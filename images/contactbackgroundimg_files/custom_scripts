function debounce(n,t,i){var r;return function(){var u=this,f=arguments,e=function(){r=null;i||n.apply(u,f)},o=i&&!r;clearTimeout(r);r=setTimeout(e,t);o&&n.apply(u,f)}}function getLanguage(){return $("html").attr("lang")||"nl"}function isLanguageDutch(){var n=$("html").attr("lang")||"nl";return n==="nl"?!0:!1}function getIEVersion(){var n=window.navigator.userAgent,i=n.indexOf("MSIE "),u,r,t;return i>0?parseInt(n.substring(i+5,n.indexOf(".",i)),10):(u=n.indexOf("Trident/"),u>0)?(r=n.indexOf("rv:"),parseInt(n.substring(r+3,n.indexOf(".",r)),10)):(t=n.indexOf("Edge/"),t>0)?parseInt(n.substring(t+5,n.indexOf(".",t)),10):0}function getSafariVersion(){if(isSafari){var n=navigator.appVersion,t=n.indexOf("AppleWebKit/")+12,i=t+3,r=n.slice(t,i);return webkeyVersion}return 0}function isIEBrowser(){var n=window.navigator.userAgent,r=n.indexOf("MSIE "),t,i;return r>0?!0:(t=n.indexOf("Trident/"),t>0)?!0:(i=n.indexOf("Edge/"),i>0)?!0:!1}function isSafari(){return navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1}function isOpera(){return navigator.userAgent.indexOf("Opera")}function setEqualHeight(n){var t=0;n.each(function(){currentHeight=$(this).height();currentHeight>t&&(t=currentHeight)});n.height(t)}function Gmap(n,t){this.div=n;this.toggle=t}function initHomepageFunctions(){$("body").on("click",".tab-pane.active .fietsopties .dropdown-toggle",function(){var t,i,n;if($(".tab-pane.active .fietsopties .dropdown-menu .loader-inline-template").show(),$(".fietsitem").remove(),$(".fietsopties .dropdown-toggle span .badge").remove(),$(".tab-pane.active .fietsopties .dropdown-menu .card").remove(),t=$(".tab-pane.active .fietsopties").data("bicyclelocationlist").split(",").filter(function(n){return n!==null&&n!==""}),t===undefined||t.length<1){$(".tab-pane.active .fietsopties .dropdown-menu .loader-inline-template").hide();i='<div class="card p-10 lightgreybg m-b-5 small"><span class="small"><i class="fas fa-exclamation-triangle bluetxt"><\/i> '+$(".tab-pane.active .fietsopties .dropdown-menu").data("ovfietsnoresultstext")+"<\/span><\/div>";$(".tab-pane.active .fietsopties.show .dropdown-menu").append(i);return}$.get(url).done(function(t){var i,r;n=t;$(".tab-pane.active .fietsopties .dropdown-menu .loader-inline-template").hide();i='<div class="card p-10 lightgreybg m-b-5 small"><span class="small"><i class="fas fa-info-circle bluetxt"><\/i> '+$(".tab-pane.active .fietsopties .dropdown-menu").data("ovfietsinfotext")+"<\/span><\/div>";$(".tab-pane.active .fietsopties .dropdown-menu").append(i);$(".tab-pane.active .fietsopties .dropdown-menu").append(n);r='<span class="badge badge-pill orangebg">'+(n!==undefined?$(n).filter("a").length:0)+"<\/span>";$(".fietsopties.show .dropdown-toggle span").append(r)}).fail(function(){})});$(".faqopen, .leg-item-toggle, #searchButt, #searchButtTile, .reset, .lock-from-button, .lock-to-button, .selectDate, .selectTime").keypress(function(n){var t=n.which;if(t===13)return $(this).click(),!1});$("#searchDisturbance").unbind("keyup.allInputs click.allInputs").bind("keyup.allInputs click.allInputs",function(){$(this).val().length>=1?showResetButton($(this)):removeResetButton($(this))});$("#planner .location-suggest__reset-button:not(#fromLock, #toLock), #vertrektijdenTile .location-suggest__reset-button, #vertrektijden .location-suggest__reset-button, #tussenPlanner .location-suggest__reset-button, #searchInDisturbance .location-suggest__reset-button, #widget-generator .location-suggest__reset-button").click(function(){$(this).parent().parent().find("input[type=text]").val("");$(this).parent().parent().find("input[type=hidden]").val("");$(this).parent().parent().find("input[type=text]").focus();removeResetButton($(this).parent().parent().find("input[type=text]"));swapFieldButtons();const n=$(this).parent().parent().find(".input-group-append button");if(n.attr("aria-pressed")==="false"){const t=n.attr("data-txt-inactive");n.attr("title",t);n.attr("data-original-title",t);n.hasClass("lock-from-button")?$("#fromLock").val("false"):$("#toLock").val("false")}else{const t=n.attr("data-txt-active");n.attr("title",t);n.attr("data-original-title",t);n.hasClass("lock-to-button")?$("#toLock").val("false"):$("#fromLock").val("false")}});typeof AccessibleTab=="undefined"||$("#journeyTabList").length||AccessibleTab.init();$(".vervoertypes .btn").click(function(){travelTypeCheckBoxCheck(this)})}function travelTypeCheckBoxCheck(n){$(n).hasClass("active")?$(n).find("[type=checkbox]").attr("aria-checked","false"):$(n).find("[type=checkbox]").attr("aria-checked","true")}function copyUrlToClipboard(n){var t=new Clipboard(".btnCopyJourneyUrl");t.on("success",function(t){showUserMessage(n);t.clearSelection()})}function IEfullScreenPlannerBlockParent(){if(isIEBrowser()){var t=$("#toprow").outerHeight(),i=$(window).innerHeight(),n=i-t;n>673&&$("#mainhome").innerHeight(n)}}function showUserMessage(n){(n||n.length>0)&&$.growl({title:n,duration:5e3,message:"",size:"large"})}function positionMenu(){var n;$(window).innerWidth()<=750?(n=$("#highResMenu").detach(),n.appendTo("#smallResMenu"),$(".inlineplanner").popover("dispose")):$(".menuWrapper #highResMenu").length||(n=$("#highResMenu").detach(),n.prependTo(".menuWrapper #wrapperInMenu"))}function swapFieldButtons(){$("#van").length>0&&($("#van").val().length>0&&$("#naar").val().length>0?($(".swapfieldsbut").addClass("swappable").attr("role","button").attr("tabindex","0"),$(".marker").addClass("hidden")):($(".swapfieldsbut").removeClass("swappable").removeAttr("role").removeAttr("tabindex"),$(".marker").removeClass("hidden")))}function showResetButton(n){n.val().length>0&&n.parent().find(".input-group-append .location-suggest__reset-button").removeClass("hidden")}function removeResetButton(n){n.val().length<1&&n.parent().find(".input-group-append .location-suggest__reset-button").addClass("hidden")}function clearHiddenValueWhenInputFieldIsEmpty(n,t){n.keyup(function(){var i=n.val();i===""&&t.val("")}).keyup()}function initCarouselAndControlButtons(n,t){$("#playButton").click(function(){$(n).carousel("cycle");$("#pauseButton, #playButton").toggleClass("hidden")});$("#pauseButton").click(function(){$(n).carousel("pause");$("#pauseButton, #playButton").toggleClass("hidden")});$(n).carousel({interval:t})}function initCustomTabBehaviorForPlanner(){$("#planner .location-suggest input").unbind("keydown.plannerInput").bind("keydown.plannerInput",function(n){n.keyCode===9&&$(this).locationSuggest("widget").is(":visible")&&($(this).locationSuggest("widget").hide(),$(this).trigger(n))})}function fitAdCont(){var n=$(".journeyAdviceCol").innerHeight();$(".journeyAdviceAdCol").innerHeight(n)}function activateStickyAdSidebar(){}function toggleSideBar(){$(".sidebar_wrapper").show();setTimeout(function(){$(".sidebar_wrapper").toggleClass("active");$(".sidebar_button").toggleClass("active")},1);$(".tooltip").hide();$(".sidebar_wrapper").hasClass("active")&&setTimeout(function(){$(".sidebar_wrapper").hide()},1e3)}function RemoveVia1ClassHidden(){$(".via1").hasClass("hidden")&&($(".via1").removeClass("hidden"),$(".addvia").addClass("hidden"))}function AddVia1ClassHidden(){$(".via1").addClass("hidden");$(".addvia").removeClass("hidden");$("#via-text").val("");$("#via-url").val("")}function showLoaderIcon(n,t){typeof t=="undefined"||t===!0?$(".tab-pane.active "+n).toggle():$(n).toggle()}function removeLoaderIcon(n){setTimeout(function(){$(".loader-inline-template").filter(function(){return $(this).css("display")!=="none"}).parent().find(n).toggle()},250)}function bindAccessibilityFeedbackEmail(){$(document).on("click",".email-accessibility-feedback",function(n){n.preventDefault();loadDynamicUrlModal($(this),accessibilityRemarkCallback)})}function accessibilityRemarkCallback(){MailForm.renderReCaptcha();MailForm.initFormPartial();$("#feedback-remark-stop-name").val($(this).data("stop-name"));$("#feedback-remark-destination").val($(this).data("stop-destination"))}function combineDateTime(){var i=$("#date").val(),r=$("#time").val(),n=new Date(i),t=r.split(":");n.setHours($.trim(t[0]),$.trim(t[1]));n=moment(n).format("YYYY-MM-DDHH:mm");$("#dateTime").val(n)}function combineAndSwapDateTime(){var n=$("#date").val();n=n.split("-");n=n.reverse().join("-");var t=new Date(n),r=$("#time").val(),i=r.split(":");t.setHours($.trim(i[0]),$.trim(i[1]));t=moment(t).format("YYYY-MM-DDHH:mm");$("#dateTime").val(t)}function overrideFormsSubmit(){["#planner","#tussenPlanner","#register-form","#forgot-pass-form","#delete-account-form","#edit-password-form","#reset-password-form","#login-form","#genericModal #inlog-form","#searchInDisturbance"].forEach(function(n){$(document).on("submit",n,function(){return $(this).valid()?(n=="#planner"&&combineAndSwapDateTime(),disableSubmitButtonAndShowLoader()):!1})})}function disableSubmitButtonAndShowLoader(){var n=$(event.target).find(":submit");return n.not(".widgetSubmit").length&&(n.attr("disabled",!0),showLoaderIcon(".submitButton",!1)),!0}function validateLoginForm(){["#login-form","#genericModal #login-form"].forEach(function(n){$(n).validate({ignore:"",errorClass:"topZindex",rules:{Email:{required:!0},Password:{required:!0}},tooltip_options:{Email:{placement:"top"},Password:{placement:"top"}},highlight:function(n,t){var i=$(n).attr("aria-describedby");$("#"+i).addClass(t)},messages:{Email:{required:isLanguageDutch()?"E-mail is niet ingevuld":"Email is not filled",minlength:isLanguageDutch()?jQuery.validator.format("Voer ten minste {0} karakters in"):jQuery.validator.format("Please enter at least {0} characters")},Password:isLanguageDutch()?"Wachtwoord is niet ingevuld":"Password is not filled"}})})}function validateEditPasswordForm(){$("#edit-password-form").validate({rules:{Password:{minlength:8,required:!0},NewPassword:{minlength:8,required:!0},VerifyNewPassword:{minlength:8,required:!0,equalTo:"#newpassword"}},tooltip_options:{Password:{placement:"top"},NewPassword:{placement:"top"},VerifyNewPassword:{placement:"top"}},messages:{VerifyNewPassword:$("#verifynewpassword").data("modal-error"),NewPassword:{required:isLanguageDutch()?"Nieuw wachtwoord is niet ingevuld":"New Password is not filled",minlength:isLanguageDutch()?jQuery.validator.format("Voer ten minste {0} karakters in"):jQuery.validator.format("Please enter at least {0} characters")},Password:isLanguageDutch()?"Wachtwoord is niet ingevuld":"Password is not filled"}})}function validateSearchInDisturbance(){$("#searchInDisturbance").validate({rules:{search:{required:!0}},tooltip_options:{search:{placement:"top"}},search:{required:isLanguageDutch()?"Zoeken is niet ingevuld":"Search is not filled"}})}function loadMy9292LoginModal(n){loadGenericModal(n);var t=isLanguageDutch()?"/inloggen-dialog":"/en/login-dialog";$.get(t).done(function(n){$("#dataHolder").html(n)}).fail(function(){$("#dataHolder").html(n.data("modal-error"))}).always(function(){$("#genericModal .curtain").hide()})}function loadAmberAlert(n){loadGenericModal(n);$("#dataHolder").html($("#amberAlertContent").html());$("#genericModal .curtain").hide()}function loadDisclaimerAndPrivacy(n){loadGenericModal(n);var t="/Document/GetCmsContentHtml/disclaimer-en-privacy";isLanguageDutch()||(t="/en"+t);$.get(t).done(function(n){$("#dataHolder").html(n)}).fail(function(){$("#dataHolder").html(n.data("modal-error"))}).always(function(){$("#genericModal .curtain").hide()})}function navigationBarAccessiblityInit(n,t){$("#mainNav").on("hidden.bs.collapse",function(){$(".navbar-toggle").prev(".sr-only").html(n);$(".navbar-toggle").attr("title",n)}).on("shown.bs.collapse",function(){$(".navbar-toggle").prev(".sr-only").html(t);$(".navbar-toggle").attr("title",t);$(".tooltip").hide()})}function dropDownAccessiblityInit(n,t){$(".dropdown").on("hidden.bs.dropdown",function(){var t=$(this).find(".dropdown-toggle").attr("name")+" - "+n;$(this).prev(".sr-only").html(t);$(this).find(".dropdown-toggle").attr("title",t)}).on("shown.bs.dropdown",function(){var n=$(this).find(".dropdown-toggle").attr("name")+" - "+t;$(this).prev(".sr-only").html(n);$(this).find(".dropdown-toggle").attr("title",n)})}function activeContrastAccessiblityInit(n,t){$.cookie("highcontrast")=="yes"&&($("body").addClass("highcontrast"),$("#contrastButtons").addClass("addGreenCheck"),$("#contrastButtons").attr("name",n),$("#contrastButtons").attr("title",n));$(".button-toggle-highcontrast").click(function(){$.cookie("highcontrast","yes",{expires:7,path:"/"});$("body").addClass("highcontrast");$("#contrastButtons").addClass("addGreenCheck");$("#contrastButtons").attr("name",n);$("#contrastButtons").attr("data-original-title",n)});$(".button-toggle-remove").click(function(){$("body").removeClass("highcontrast");$("#contrastButtons").removeClass("addGreenCheck");$("#contrastButtons").attr("name",t);$("#contrastButtons").attr("data-original-title",t);$.cookie("highcontrast")=="yes"&&$.cookie("highcontrast",null,{path:"/"})})}function loadGenericModal(n){if(n!=="undefined"&&n!==""&&n.length!=0){var t=n.data("modal-title"),i=n.data("modal-icon"),r=n.data("modal-size")||"",u=n.data("modal-title-custom-class"),f=n.data("modal-title-img-src"),e=n.data("modal-title-img-alt"),o=n.data("modal-header-custom-class"),s=n.data("modal-show-print-button"),h=n.data("modal-body-custom-class"),c=n.data("modal-remove-dismiss-button"),l=n.data("modal-enable-fixed-dialog");setGenericModalProperties(t,r,c,l,h,u,o,s,i,f,e);$("#genericModal").modal("show")}}function loadDynamicUrlModal(n,t){var i=n.data("dynamic-url"),r=n.data("confirm-modal");if(loadGenericModal(n),r){var u='<div class="alert alert-info m-b-20 p-10">'+n.data("confirm-modal-confirmtext")+"<\/div>",f='<button type="button" class="btn btn-primary m-r-5 pull-left" data-dismiss="modal" aria-label="Sluit venster"><i class="fas fa-times whitetxt"><\/i> '+n.data("confirm-modal-cancelbuttontext")+"<\/button>",e='<form action="'+i+'" method="post" onsubmit="return disableSubmitButtonAndShowLoader()" > '+f+'<button type="submit" class="btn btn-darkgrey whitetxt"><span>'+n.data("confirm-modal-confirmbuttontext")+'<\/span> <i class="fas fa-arrow-right submitButton"><\/i><i class="loader-inline-template submitButton fas fa-circle-notch fa-spin fa-fw" style="display: none"><\/i><\/button><\/form>';$("#dataHolder").html(u+e);$("#genericModal .curtain").hide()}else $.get(i).done(function(i){if(i==="reload"){var r=isLanguageDutch()?"/login":"/en/login";location.href=r+"?returnUrl="+window.location.pathname}else $("#dataHolder").html(i),t!==undefined&&t.call(n)}).fail(function(){$("#dataHolder").html(n.data("modal-error"))}).always(function(){$("#genericModal .curtain").hide()})}function setGenericModalProperties(n,t,i,r,u,f,e,o,s,h,c){r===!0&&($("#genericModal").attr("data-backdrop","static"),$("#genericModal").attr("data-keyboard","false"));t=t||"";$("#genericModal .modal-dialog").addClass(t);f&&$("#genericModal .modal-title").addClass(f);u&&$("#genericModal .modal-body").addClass(u);o&&$("#genericModal .modal-footer").removeClass("hidden");n?(s?$("#genericModal #modalTitle").html('<i class="'+s+'"><\/i> '+n):$("#genericModal #modalTitle").html(n),h?($("#genericModal .modal-header-image img").attr("src",h),c&&$("#genericModal .modal-header-image img").attr("alt",c)):$("#genericModal .modal-header-image").hide(),e&&$("#genericModal .modal-header").addClass(e),i===!0&&$("#genericModal #btnDismiss").hide(),$("#genericModal .modal-header").show()):$("#genericModal .modal-header").hide()}function closeGenericModal(){$("#genericModal").modal("hide")}function resetGenericModal(){$(".tooltip").tooltip("dispose");$("#genericModal").removeAttr("data-backdrop");$("#genericModal").removeAttr("data-keyboard");$("#genericModal #modalDialog").attr("class","modal-dialog");$("#genericModal #modalTitle").attr("class","modal-title h5 absolutePos");$("#genericModal #modalTitle").empty();$("#genericModal #modalHeader").attr("class","modal-header darkgreybg");$("#genericModal #modalHeader").show();$("#genericModal .modal-header-image img").attr("src","");$("#genericModal .modal-header-image img").attr("alt","");$("#genericModal .modal-header-image").show();$("#genericModal #btnDismiss").show();$("#genericModal #btnAccord").remove();$("#genericModal .modal-footer").addClass("hidden");$("#genericModal #modalBody #dataHolder").empty();$("#genericModal #modalBody").attr("class","modal-body generic-modal-body");$("#genericModal #dataHolder").empty()}function init(){window.addEventListener("scroll",function(){var n=$("#mainnav").outerHeight(),t=window.pageYOffset||document.documentElement.scrollTop,i=n,r=document.querySelector(".calamiteitenbalk");t>80?$(".btt").is(":hidden")&&$(".btt").fadeIn("slow"):$(".btt").is(":visible")&&$(".btt").fadeOut("slow")})}function executeGoogle(n,t,i,r,u){if(r&&n.data("toggle-walking-maps")){if(n.data("toggle-walking-maps")===!0&&!n.data("toggle-walking-maps-init")){var f=n.data();f.mapsKey=Journey.mapsKey;GenerateWalkRouteMap(t,f,u);n.data("toggle-walking-maps-init",!0)}window.requestAnimationFrame(function(){t.toggle();i.toggleClass(n.data("toggle-class"))})}}function openWalkingModal(){return new Promise(function(n){var t=$(".btn.kaart").attr("data-modal-title"),i=$("#journeyTabs .tab-pane.active .btn-group-wrap").first().clone();setGenericModalProperties(t,"modal-ms",!1,!0,"p-25");$("#genericModal #dataHolder").html('<div class="explanation">'+$(".btn.kaart").attr("data-modal-text")+'<br/><br/><a class="btn btn-tertiary noprint m-b-10 m-r-10" href="#" title="'+$(".btn.kaart").attr("data-modal-reject")+'" aria-label="" role="button" tabindex="0" data-dismiss="modal">'+$(".btn.kaart").attr("data-modal-reject")+'<\/a><a class="btn btn-primary whitetxt noprint m-b-10" title="'+$(".btn.kaart").attr("data-modal-accept")+'" aria-label="" id="acceptShowWalkRoute" role="button" tabindex="0">'+$(".btn.kaart").attr("data-modal-accept")+' <i class="fas fa-arrow-right"><\/i><\/a><\/div>');$("#acceptShowWalkRoute").click(function(){n()});$("#genericModal").modal("show");$("#genericModal .curtain").hide()})}function walkingAccept(){setCookie("walkingAccepted","true",365);$("#btnDismiss").click()}function setCookie(n,t,i){var r=new Date;r.setTime(r.getTime()+i*864e5);$.cookie(n,t,{path:"/",expires:r})}function getCookie(n){for(var r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),t,i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""}function inner(n){try{if(n)try{return l=n.innerText.length,n.innerText}catch(t){innerText=n.innerHTML.replace(/<\/?[^>]+>/gi,"")}}catch(i){return"z"}return innerText}function hasSupport(){if(typeof hasSupport.support!="undefined")return hasSupport.support;var n=/msie 5\.[56789]/i.test(navigator.userAgent);return hasSupport.support=typeof document.implementation!="undefined"&&document.implementation.hasFeature("html","1.0")||n,n&&(document._getElementsByTagName=document.getElementsByTagName,document.getElementsByTagName=function(n){return n=="*"?document.all:document._getElementsByTagName(n)}),hasSupport.support}function WebFXTabPane(n,t){var u,r,i;if(hasSupport()&&n!=null)for(this.element=n,this.element.tabPane=this,this.pages=[],this.selectedIndex=null,this.useCookie=t!=null?t:!0,this.element.className=this.classNameTag+" "+this.element.className,this.tabRow=document.createElement("div"),this.tabRow.className="tab-row",n.insertBefore(this.tabRow,n.firstChild),u=0,this.selectedIndex=u,r=n.childNodes,i=0;i<r.length;i++)r[i].nodeType==1&&r[i].className=="tab-page"&&this.addTabPage(r[i])}function WebFXTabPage(n,t,i){var f,r,u,e;if(hasSupport()&&n!=null){for(this.element=n,this.element.tabPage=this,this.index=i,f=n.childNodes,r=0;r<f.length;r++)if(f[r].nodeType==1&&f[r].className=="tab"){this.tab=f[r];break}for(u=document.createElement("A"),this.aElement=u,u.href="#",u.onclick=function(){return!1};this.tab.hasChildNodes();)u.appendChild(this.tab.firstChild);this.tab.appendChild(u);e=this;this.tab.onclick=function(){e.select()};this.tab.onmouseover=function(){WebFXTabPage.tabOver(e)};this.tab.onmouseout=function(){WebFXTabPage.tabOut(e)}}}function setupAllTabs(){var i;if(hasSupport()){var r=document.getElementsByTagName("*"),f=r.length,u=/tab\-pane/,t,n;for(i=0;i<f;i++)if(n=r[i],t=n.className,t!="")if(u.test(t)&&!n.tabPane){mainpane=new WebFXTabPane(n);try{DefaultTab()}catch(e){}}else/tab\-page/.test(t)&&!n.tabPage&&u.test(n.parentNode.className)&&n.parentNode.tabPane.addTabPage(n)}}function disposeAllTabs(){var n;if(hasSupport()){var u=document.getElementsByTagName("*"),f=u.length,r,i,t=[];for(n=0;n<f;n++)(i=u[n],r=i.className,r!="")&&/tab\-pane/.test(r)&&i.tabPane&&(t[t.length]=i.tabPane);for(n=t.length-1;n>=0;n--)t[n].dispose(),t[n]=null}}function ChangeTab(n){mainpane.setSelectedIndex(n)}function MyTip2(n){var t;return t=document.getElementById(n),t?Tip(t.innerHTML,SHADOW,!0,LEFT,!0,FADEIN,400,FADEOUT,400):void 0}function FareCalc(n,t,i){var r;r=document.getElementById(n);r&&(r.innerHTML="&euro;&nbsp;"+i[t]+"&nbsp;")}function DefaultTab(){mainpane.setSelectedIndex($deftab)}function showhide(n){tobj=document.getElementById(n);tobj&&(tobj.style.display=tobj.style.display=="inline"?"none":"inline")}function show(n){tobj=document.getElementById(n);tobj||(tobj=document.getElementById(n.toLowerCase()));tobj&&(tobj.style.display="inline")}function showcount(n){for(i=0;i<100;i++)nameplus=n+i,show(nameplus);nameplus=n+"$snr";show(nameplus)}function hide(n){tobj=document.getElementById(n);tobj||(tobj=document.getElementById(n.toLowerCase()));tobj&&(tobj.style.display="none")}function hidecount(n){for(i=0;i<100;i++)nameplus=n+i,hide(nameplus);nameplus=n+"$snr";hide(nameplus)}function sitestat(n){n+="&ns__t="+(new Date).getTime();ns_pixelUrl=n;ns_0=document.referrer;ns_0=ns_0.lastIndexOf("/")==ns_0.length-1?ns_0.substring(ns_0.lastIndexOf("/"),0):ns_0;ns_0.length>0&&(n+="&ns_referrer="+escape(ns_0));document.images?(ns_1=new Image,ns_1.src=n):document.write("<img src="+n+" width='1' height='1'>")}var CookieWall={consentIsGiven:!1,consentForAds:undefined,remainingRetries:5,isConsentGiven:function(){return CookieWall.consentIsGiven},setConsentIsGiven:function(){CookieWall.consentIsGiven=!0},isCMPLoaded:function(){var n=!1;try{n=typeof window.__tcfapi!="undefined"}catch(t){}return n},checkConsent:function(){window.__tcfapi("getTCData",2,function(n,t){if(window.__tcfapi("consentDataExist",2,function(n,t){t&&n&&CookieWall.setConsentIsGiven()}),t&&CookieWall.consentIsGiven){CookieWall.setFocusOnInputField();var i=CookieWall.isPersonalizedContentAllowed(n.purpose);CookieWall.consentForAds!==i&&(CookieWall.consentForAds=i,CookieWall.loadAdvertisements(CookieWall.consentForAds?0:1))}})},isPersonalizedContentAllowed:function(n){return n.consents[1]&&n.consents[2]&&n.consents[3]&&n.consents[4]&&n.consents[5]&&n.consents[6]&&n.consents[7]&&n.consents[8]&&n.consents[9]&&n.consents[10]},loadAdvertisements:function(n){try{window.googletag.cmd.push(function(){window.googletag.pubads().setRequestNonPersonalizedAds(n);AdvertisementUtils.refreshAllNormalAdSlots();AdvertisementUtils.fetchAdviceBannersForSelectedJourney()});AdvertisementUtils.showAdAbovePlannerBlockIfNeeded()}catch(t){}},activateCMPFallBack:function(){if(!CookieWall.cookiesEnabled()){CookieWall.showBlockedCookiesModal();return}CookieWall.loadAdvertisements(1);window.dataLayer=window.dataLayer||[];window.dataLayer.push({event:"GA"})},cookiesEnabled:function(){return navigator.cookieEnabled},showBlockedCookiesModal:function(){$(window).width()<960&&($("#genericModal .modal-title").removeClass("absolutePos"),$("#genericModal .modal-header-image img").addClass("noFloat"));var n='<div class="cookieblockedmessage">'+$("body").data("cookieblockedmessage")+"<\/div>";$("#dataHolder").html(n);$("#genericModal .curtain").hide();loadGenericModal($("#cookieWall"))},setConsentManagerVisibility:function(){window.__tcfapi("showConsentManager",2,function(){})},registerClick:function(n){if(typeof window.ga=="function")window.ga("9292GATracker.send",{hitType:"event",eventCategory:"Consent",eventAction:n,eventLabel:n});else{if(n===consentClickType.PrivacySettings)return;CookieWall.remainingRetries>0&&(CookieWall.remainingRetries--,setTimeout(function(){CookieWall.registerClick(n)},500))}},enableCMPFeatures:function(){if(!CookieWall.isCMPLoaded()){CookieWall.activateCMPFallBack();return}cmp.onerror=function(){CookieWall.activateCMPFallBack()};window.__tcfapi("addEventListener",2,function(){CookieWall.setConsentIsGiven();CookieWall.checkConsent();CookieWall.registerClick(consentClickType.AcceptAll)},"acceptAllButtonClicked");window.__tcfapi("addEventListener",2,function(){CookieWall.setConsentIsGiven();CookieWall.checkConsent();CookieWall.registerClick(consentClickType.SaveExit)},"exitButtonClicked");window.__tcfapi("addEventListener",2,function(){CookieWall.setConsentIsGiven();CookieWall.checkConsent();CookieWall.registerClick(consentClickType.SaveExit)},"saveAndExitButtonClicked");window.__tcfapi("addEventListener",2,function(){CookieWall.registerClick(consentClickType.PrivacySettings)},"consentManagerAlreadyShown");window.__tcfapi("addEventListener",2,function(){CookieWall.checkConsent()},"cmpReady");window.__tcfapi("changeLanguage",2,null,$("html").attr("lang"))},setFocusOnInputField:function(){$("#van").length>0&&$("#van").val().length===0&&$("#van").focus()}},consentClickType={AcceptAll:"AcceptAll",SaveExit:"SaveExit",PrivacySettings:"PrivacySettings"},isMobile,Journey,mainpane,oldOnload;$(document).ready(function(){CookieWall.cookiesEnabled()?CookieWall.enableCMPFeatures():(CookieWall.setConsentManagerVisibility(!1),CookieWall.showBlockedCookiesModal())});var NavBarLocation={GeoLocationError:"",GeoLocationIsNotSupported:"",GeoLocationUserDenied:"",GeoLocationInfoUnavailable:"",GeoLocationTimeOut:"",GeoLocationUnknownError:"",noMostUsedTextTemplate:"",nearbyTitle:"Nearby",mostUsedTitle:"Most Used",languageIsEnglish:!1,init:function(n,t,i,r,u){GeoLocationError=n[0];GeoLocationIsNotSupported=n[1];GeoLocationUserDenied=n[2];GeoLocationInfoUnavailable=n[3];GeoLocationTimeOut=n[4];GeoLocationUnknownError=n[5];noMostUsedTextTemplate=t;nearbyTitle=i;mostUsedTitle=r;languageIsEnglish=u=="en-GB"?!0:!1},consolelog:function(n){!1&&console.log(n)},showLoader:function(){$("#genericModal .curtain").show()},removeLoader:function(){$("#genericModal .curtain").hide()},positionOption:{timeout:5e3,maximumAge:3e3},getNeighborhoodStops:function(){$("#genericModal #modalBody-ul").length==0&&($("<ul id='modalBody-ul' class='inDeBuurtUL'><\/ul>").appendTo("#genericModal #dataHolder"),$('<h2 class="h6 fat m-b-0">'+nearbyTitle+"<\/h2>").insertBefore("#genericModal #modalBody-ul"));NavBarLocation.showLoader();$("#genericModal #modalBody-ul").empty();var n={code:77};NavBarLocation.consolelog("Function getNeighborhoodStops.");try{navigator.geolocation?navigator.geolocation.getCurrentPosition(NavBarLocation.showPosition,NavBarLocation.showError,NavBarLocation.positionOption):(NavBarLocation.consolelog("Geolocation is not supported by this browser."),NavBarLocation.insertCustomFeedbackNode("modalBody-ul",GeoLocationIsNotSupported),NavBarLocation.removeLoader())}catch(t){NavBarLocation.consolelog("Geolocation is not supported by this browser. Error: "+t.message);NavBarLocation.showError(n)}setTimeout(function(){$("#genericModal .curtain").is(":visible")&&NavBarLocation.showError(n)},6e3)},showPosition:function(n){NavBarLocation.consolelog("Function showPosition: Latitude: "+n.coords.latitude+"; Longitude: "+n.coords.longitude);NavBarLocation.getNearby(n)},showError:function(n){NavBarLocation.consolelog("Function showError");var t="";switch(n.code){case n.PERMISSION_DENIED:NavBarLocation.consolelog("User denied the request for Geolocation.");t=GeoLocationUserDenied;break;case n.POSITION_UNAVAILABLE:NavBarLocation.consolelog("Location information is unavailable.");t=GeoLocationInfoUnavailable;break;case n.TIMEOUT:NavBarLocation.consolelog("The request to get user location timed out.");t=GeoLocationTimeOut;break;default:NavBarLocation.consolelog("An unknown error occurred.");t=GeoLocationUnknownError}NavBarLocation.insertCustomFeedbackNode("modalBody-ul",t);NavBarLocation.removeLoader()},changeText:function(n,t){typeof n.textContent!="undefined"?n.textContent=t:n.innerText=t},createLocationsList:function(n,t,i){var l,a,v,r,e,h,y,u,c,o,s,f;NavBarLocation.consolelog("Function createLocationsList for listid "+n+".");$("#genericModal #"+n).empty();l=document.getElementById(n);l.className="inDeBuurtUL";a=0;for(v in i)i.hasOwnProperty(v)&&(r=i[v],e=document.createElement("li"),e.className="location-icon-"+r.Type,e.id=n+"_"+a,h=r.SubType,languageIsEnglish&&r.EnglishSubType&&(h=r.EnglishSubType),y="",t&&(y=r.Distance),u=document.createElement("a"),u.href="javascript:NavBarLocation.navigateToDeparturesPage('"+r.Name+"','"+r.Displayname+"','"+r.Region+"','"+r.SubType+"','"+r.EnglishSubType+"','"+r.Type+"','"+r.Url+"')",u.title=h+" "+r.Name+" "+r.Region+" "+y,c=document.createElement("span"),c.setAttribute("aria-hidden",!0),NavBarLocation.changeText(c,r.Name),o=document.createElement("span"),o.className="text-muted",o.setAttribute("aria-hidden",!0),NavBarLocation.changeText(o,h),s=document.createElement("span"),s.className="text-muted",s.setAttribute("aria-hidden",!0),NavBarLocation.changeText(s,r.Region),f=null,t&&(f=document.createElement("span"),f.className="text-muted",f.setAttribute("aria-hidden",!0),NavBarLocation.changeText(f,r.Distance)),u.appendChild(c),u.appendChild(o),u.appendChild(s),t&&u.appendChild(f),e.appendChild(u),l.appendChild(e),a++)},storeLocation:function(n){var t,r=0,u=-1,i;try{for(t=JSON.parse($.cookie("maxused"))||[],i=0;i<t.length;i++)if(t[i].Name===n.Name){u=i;break}u<0?(r=1,t.push({Name:n.Name,Displayname:n.Displayname,Region:n.Region,SubType:n.SubType,EnglishSubType:n.EnglishSubType,Type:n.Type,Url:n.Url,freq:r})):(r=t[u].freq+1,t[u].freq=r);$.cookie("maxused",JSON.stringify(t),{expires:1,path:"/"})}catch(f){NavBarLocation.consolelog("error while saving location: "+f.message)}},navigateToDeparturesPage:function(n,t,i,r,u,f,e){var o={Name:n,Displayname:t,Region:i,SubType:r,EnglishSubType:u,Type:f,Url:e},e=(languageIsEnglish?"/en/":"/")+o.Url;NavBarLocation.storeLocation(o);window.location.href=window.location.origin+e},storeLocationAndNavigateToDeparturesPage:function(n){var t=(languageIsEnglish?"/en/":"/")+n.Url;NavBarLocation.storeLocation(n);window.location.href=window.location.origin+t},getNearby:function(n){NavBarLocation.consolelog("Function getNearby");var t=(languageIsEnglish?"/en":"")+"/suggest3/"+n.coords.latitude+"/"+n.coords.longitude;NavBarLocation.consolelog("url="+t);jQuery.ajax({type:"GET",url:t,dataType:"json",success:function(n){NavBarLocation.consolelog("getNearby successful");NavBarLocation.createLocationsList("modalBody-ul",!0,n.locations)},error:function(n,t,i){NavBarLocation.consolelog("Function getNearby has failed ("+i+").")},complete:function(){NavBarLocation.removeLoader()}})},insertCustomFeedbackNode:function(n,t){var i=document.createElement("li");$(i).addClass("alert alert-info");NavBarLocation.changeText(i,t);$("#genericModal #"+n).html(i)},sortDescendingFreq:function(n,t){return n.freq>=t.freq?-1:n.freq===t.freq?0:n.freq<t.freq?1:0},getMostUsedStops:function(){var i,r,t,n;if(NavBarLocation.consolelog("Function getMostUsedStops"),$("#modalBody-mostUsed-ul").length==0&&($("<ul id='modalBody-mostUsed-ul' class='inDeBuurtUL'><\/ul>").insertAfter("#modalBody-ul"),$('<h2 class="h6 fat m-t-20 m-b-0">'+mostUsedTitle+"<\/h2>").insertBefore("#modalBody-mostUsed-ul")),i=3,r=JSON.parse($.cookie("maxused")),r!=null){for(t=r.sort(NavBarLocation.sortDescendingFreq),n=0;n<t.length;n++)n<i&&NavBarLocation.consolelog("sorted: name="+t[n].Name+", displayname="+t[n].Displayname+", type="+t[n].Type+", subtype="+t[n].SubType+", freq="+t[n].freq);NavBarLocation.createLocationsList("modalBody-mostUsed-ul",!1,t.slice(0,i))}else NavBarLocation.insertCustomFeedbackNode("modalBody-mostUsed-ul",noMostUsedTextTemplate)}},MailForm={grcSiteKey:"",mailSelector:".toolbar-mail",init:function(n){grcSiteKey=n},initForm:function(){$("a.openMailForm").unbind("click.openMailForm").bind("click.openMailForm",function(n){n.preventDefault();showLoaderIcon(MailForm.mailSelector);var t=$(this).parent().parent().parent().parent().next("div .journey-email"),i=$(this).data("route-url"),r="arrivalTime="+$(this).data("arrival-time")+"&departureTime="+$(this).data("departure-time")+"&mailContent="+$(".tab-pane.active").data("mail-content");t.html().length<2&&MailForm.loadForm(t,i,r)})},initReSendForm:function(){$("#reSendMail").unbind("click.reSendMail").bind("click.reSendMail",function(n){n.preventDefault();var t=$(this).closest("div .journey-email"),i=$(this).data("route-url"),r="arrivalTime="+$(this).data("arrival-time")+"&departureTime="+$(this).data("departure-time")+"&mailContent="+$(".tab-pane.active").data("mail-content");MailForm.loadForm(t,i,r)})},initFormPartial:function(){$(function(){var n=".toggle-send";$("#frmMail").submit(function(t){t.preventDefault();showLoaderIcon(n,!1);$(n).parent().prop("disabled",!0);var i=$(this),r=i.serialize(),u=i.attr("action");$.post(u,r).done(function(n){n!=="reload"?($("#dataHolder").html(n),MailForm.renderReCaptcha(),MailForm.initFormPartial()):(closeGenericModal(),location.reload())}).fail(function(){$("#frmMail").hide();$("#error").show()}).always(function(){removeLoaderIcon(n);$(n).parent().prop("disabled",!1)})})})},loadForm:function(n,t,i){$.post(t,i,function(t){$("#genericModal #dataHolder").html(t);MailForm.renderReCaptcha();MailForm.showForm(n);var i=$(".tab-pane.active").data("mail-content");$("#frmMail #mailJourneyContent").val(i);MailForm.initFormPartial()}).fail(function(){var n=$(".tab-pane.active .openMailForm"),t=n.data("error");n.each(function(){$(this).attr("title",t).tooltip("dispose").tooltip({placement:"top",trigger:"manual",template:'<div class="tooltip"><div class="tooltip-arrow orangearrow"><\/div><div class="tooltip-inner orangebg"><\/div><\/div>'}).tooltip("show")})}).always(function(){$(document).one("click",function(){var n=$(".tab-pane.active .openMailForm");n.each(function(){$(this).tooltip("dispose").removeAttr("data-original-title").attr("title",$(this).data("title")).tooltip()})});$("#genericModal .curtain").hide();removeLoaderIcon(MailForm.mailSelector)})},showForm:function(n){window.requestAnimationFrame(function(){loadGenericModal(n)});$("#genericModal").on("shown.bs.modal",function(){$(this).find("#EmailReceiver").focus()})},renderReCaptcha:function(){var n=$("#recaptcha-frmMail");n.html()!==undefined&&n.html().length<=1&&(n.empty(),grecaptcha.render("recaptcha-frmMail",{sitekey:grcSiteKey,size:"compact"}))},clearValidationErrors:function(){}},UtilsJs={contentClasses:".step__item--toggleinfo, .journey-costs__detail-table",linkClasses:".step__item--toggle, .link--toggle",hideJourneyDetailContent:function(){$(function(){$(UtilsJs.contentClasses).hide();$(UtilsJs.linkClasses).show()})},restoreCurrentJourneyDetailContent:function(n){n.find(UtilsJs.contentClasses).hide();n.find(UtilsJs.linkClasses).show()}};wait=function(n,t){return setTimeout(t,n)};isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile|Windows Phone|Lumia/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};Array.prototype.filter||(Array.prototype.filter=function(n){"use strict";var i,f,r,e,t,u;if(this==null)throw new TypeError;if(i=Object(this),f=i.length>>>0,typeof n=="function"){for(r=[],e=arguments[1],t=0;t<f;t++)t in i&&(u=i[t],n.call(e,u,t,i)&&r.push(u));return r}});$(document).ready(function(){setEqualHeight($(".equal"));$(".calamities-bar__close-button").click(function(){$(".calamities-bar").hide().parent().removeClass("page--with-calamities")})});var faq={init:function(){if($(".faq-list").length){var n=function(n){var i=n.parent().find("dt"),t=n.parent().children("dd"),r=n.next("dd");n.hasClass("expander")?(t.addClass("hidden"),i.removeClass("collapser open").addClass("expander").attr("aria-expanded","false"),n.removeClass("expander").addClass("collapser open"),r.removeClass("hidden"),n.attr("aria-expanded","true")):n.hasClass("collapser")&&(t.addClass("hidden"),n.attr("aria-expanded","false"),n.removeClass("open").toggleClass("collapser expander"))};$(".faq-list dt").attr("aria-expanded","false");$(".faq-list dd").addClass("hidden");$(".faq-list dt").addClass("expander").click(function(){n($(this))});$(".faq-list dt").addClass("expander").keypress(function(t){(t.keyCode==13||t.keyCode==32)&&(t.preventDefault(),n($(this)))})}}},extWindows={title:"",addTitles:function(){$('a[target="_blank"]').attr("title",extWindows.title)}},accessibleAlert={init:function(n,t){var i;$(n).find("p[role=alert]").length?(i=$(n).find('p[data-role="accessible-alert"]'),i.text(t).css({visibility:"hidden"}),i.css({visibility:"visible",clip:"auto"}).attr("tabindex",3)):(i=$('<p class="vh inline abs" data-role="accessible-alert" />'),i.attr("role","alert").text(t),n.prepend(i),i.css({visibility:"hidden"}),i.css({visibility:"visible",clip:"auto"}).attr("tabindex",3))}};$.ctrl=function(n,t,i){$(document).keydown(function(r){return i||(i=[]),r.keyCode==n.charCodeAt(0)&&(r.ctrlKey||r.metaKey)?(t.apply(this,i),r.preventDefault(),r.stopPropagation(),!1):void 0})};jQuery.fn.customInput=function(){$(this).each(function(){var n=$(this);n.addClass("vh");var t=$("label[for="+n.attr("id")+"]"),i=n.is("[type=checkbox]")?"checkbox":"radio",r=$("input[name="+n.attr("name")+"]");t.hover(function(){$(this).addClass("hover");i=="checkbox"&&n.is(":checked")&&$(this).addClass("hover")},function(){$(this).removeClass("hover")}).focus(function(){$(this).prev("input").trigger("updateState")});n.on("updateState",function(){n.is(":checked")?(n.is(":radio")&&r.each(function(){$("label[for="+$(this).attr("id")+"]").removeClass("checked")}),t.addClass("checked")):t.removeClass("checked")}).trigger("updateState").click(function(){$(this).trigger("updateState")}).focus(function(){t.addClass("hover");i=="checkbox"&&n.is(":checked")&&$(this).addClass("checked")}).blur(function(){t.removeClass("hover")})})};var AdvertisementUtils={allowOOPRefresh:!0,allowBillboardRecall:!0,isElementInViewport:function(n){if(typeof jQuery=="function"&&n instanceof jQuery&&(n=n[0]),n===undefined)return!1;var t=n.getBoundingClientRect(),i=document.documentElement;return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||i.clientHeight)&&t.right<=(window.innerWidth||i.clientWidth)},isBrowserWidthSmallerThan:function(n){var t;return t=Modernizr.mq("(min-width: 0px)")?function(n){return Modernizr.mq("(max-width: "+n+"px)")}:function(n){return $(window).width()<=n},t(n)},isBrowserWidthLargerThan:function(n){var t;return t=Modernizr.mq("(min-width: 0px)")?function(n){return Modernizr.mq("(min-width: "+n+"px)")}:function(n){return $(window).width()>=n},t(n)},lazyLoad:function(n,t){function u(r){return function(){var u,e,f;if(CookieWall.isConsentGiven()&&t!==undefined&&t.constructor===Array)for(u=0,e=t.length;u<e;u++)$ad=$("#div-gpt-ad-"+n+"-"+t[u]+":visible"),f=AdvertisementUtils.isElementInViewport($ad),f&&f!==i[u]&&(i[u]=f,typeof r=="function"&&r(t[u]))}}var i=[],r;i.length=t.length;r=u(function(n){googletag.cmd.push(function(){googletag.pubads().refresh([gptadslots[n]])})});$(window).on("DOMContentLoaded load resize scroll",debounce(function(){r()},500))},recallBillboardOnSmallScreens:function(n){var t=function(){try{googletag.cmd.push(function(){CookieWall.isConsentGiven()&&AdvertisementUtils.isBrowserWidthSmallerThan(767)&&AdvertisementUtils.allowBillboardRecall&&n!==undefined&&n.constructor===Array&&$.each(n,function(n,t){googletag.pubads().refresh([gptadslots[t]]);AdvertisementUtils.allowBillboardRecall=!1})})}catch(t){}};$(function(){$(window).resize(debounce(function(){t()},500));t()})},removeOutOfPageOnSmallScreens:function(){var n=function(){try{googletag.cmd.push(function(){AdvertisementUtils.isBrowserWidthSmallerThan(767)?(googletag.pubads().clear([gptadslots[0]]),AdvertisementUtils.allowOOPRefresh=!0):CookieWall.isConsentGiven()&&AdvertisementUtils.allowOOPRefresh&&(googletag.pubads().refresh([gptadslots[0]]),AdvertisementUtils.allowOOPRefresh=!1)})}catch(n){}};$(function(){$(window).resize(debounce(function(){n()},500));n()})},showAdAbovePlannerBlockIfNeeded:function(){setTimeout(function(){var n=$(".homepage.ad_container img").height()||0,t=$(".homepage.ad_container video").height()||0,i=$(".homepage.ad_container iframe").height()||0;n+t+i>10&&($(".homepage.ad_container").show(),$("div.tooltip-inner.orangebg").length&&$(window).scrollTop($(window).scrollTop()+1))},5e3)},refreshAllNormalAdSlots:function(){CookieWall.isConsentGiven()&&(totalSlots=typeof gptadslots!="undefined"&&$.isArray(gptadslots)?gptadslots.length:0,setTimeout(function(){AdheseGateway.fetchDisplayBanners(gptadslots,totalSlots)},500))},removeAllBanners:function(){if(CookieWall.isConsentGiven())for(var n=0;n<eticketSlots.length;n++)eticketSlots[n].clearTargeting(),googletag.pubads().clear([eticketSlots[n]]),googletag.pubads().refresh([eticketSlots[n]])},addBannerSlotTargeting:function(n){var t,i;for(t in n)t!=="SlotNumber"&&(i=n[t],eticketSlots[n.SlotNumber].setTargeting(String(t),String(i)))},fetchAdviceBannersForSelectedJourney:function(){AdheseGateway.fetchNativeBanners()},fetchAdviceBanners:function(){if(CookieWall.isConsentGiven()){AdvertisementUtils.removeAllBanners();var n=$("#journeyTabs .tab-pane.active .eticket-slot").map(function(){return eticketSlotTargets[this.id]}).get();n.forEach(function(n){AdvertisementUtils.addBannerSlotTargeting(n);googletag.pubads().refresh([eticketSlots[n.SlotNumber]])})}}},GenerateWalkRouteMap=function(n,t,i){var u="/static/images/journey/start-icon-big.png",f="/static/images/journey/destination-icon-big.png",e=$('<div class="gmaps-container"/>').appendTo(n),r=$('<div class="directions"/>').appendTo(n);r.append('<p class="alert alert-info m-t-10 m-b-20 p-10"><strong>'+t.caution+"<\/strong> "+t.disclaimer+"<\/p>");window.gml===undefined&&Journey.initGoogleMaps(t.mapskey);gml.init(t.mapsKey).done(function(n){var o=createMap(n,e[0],t),y,s;setTimeout(function(){n.event.trigger(o,"resize")},5);var h={lat:t.startLat,lng:t.startLon},c={lat:t.stopLat,lng:t.stopLon},l=createMarker(n,o,h,u),a=createMarker(n,o,c,f),p=new n.DirectionsService,v=setupDirectionDisplay(n);v.setMap(o);y={origin:h.lat+","+h.lng,destination:c.lat+","+c.lng,travelMode:n.TravelMode.WALKING};p.route(y,function(i,u){if(u===n.DirectionsStatus.OK){v.setDirections(i);var f=i.routes[0].legs[0];t.skipDirections!==undefined&&t.skipDirections||showDirectionsDescription(r,f.steps,t);l.setPosition(f.start_location);a.setPosition(f.end_location)}});s=new n.LatLngBounds;s.extend(l.getPosition());s.extend(a.getPosition());setUpEvents(n,o,s,i)})},setUpEvents=function(n,t,i,r){n.event.addListener(t,"click",function(){t.setOptions({scrollwheel:!0})});n.event.addListener(t,"mouseout",function(){t.setOptions({scrollwheel:!1})});n.event.addListenerOnce(t,"idle",function(){centerTheMarksOnTheMap(t,i);r&&n.event.addListenerOnce(t,"idle",function(){setTimeout(function(){r.resolve()},250)})});n.event.addDomListener(window,"resize",function(){setTimeout(function(){n.event.trigger(t,"resize");centerTheMarksOnTheMap(t,i)},250)})},centerTheMarksOnTheMap=function(n,t){n.fitBounds(t);n.getZoom()>15&&n.setZoom(15)},createMarker=function(n,t,i,r){return new n.Marker({position:new n.LatLng(i.lat,i.lng),map:t,icon:new n.MarkerImage(r),title:i.title})},showDirectionsDescription=function(n,t,i){for(var e=function(n){return n.replace(/<b>/g,"<strong>").replace(/<\/b>/g,"<\/strong>").replace(/style="[^"]*"/g,"")},o='<h3 class="h5">'+i.title+" "+i.description+"<\/h3>",u=$('<ol class="directions__list"/>'),r=0,f=t.length;r<f;r++)u.append('<li class="directions__list-item">'+e(t[r].instructions)+"<\/li>");return n.append(o,u)},setupDirectionDisplay=function(n){var t=new n.DirectionsRenderer;return t.setOptions({suppressMarkers:!0}),t},createMap=function(n,t,i){return new n.Map(t,{panControl:!0,zoomControl:!0,mapTypeControl:!1,scaleControl:!0,streetViewControl:!1,overviewMapControl:!0,scrollwheel:!1,region:"nl",zoom:15,mapTypeId:n.MapTypeId.ROADMAP,center:new n.LatLng(i.centerLat,i.centerLon),noClear:!1})};Gmap.googleMapsDeferred=$.Deferred();Gmap.theCallback=function(){Gmap.googleMapsDeferred.resolve()};Gmap.prototype={locations:[],markers:[],icons:{poi:"/static/images/gmap-poi-icon-big.png",station:"/static/images/gmap-station-icon-big.png",stop:"/static/images/gmap-stop-icon-big.png",destination:"/static/images/destination-icon-big.png",start:"/static/images/start-icon-big.png"},init:function(){return $(".gmaps-container .curtain").removeClass("hidden"),this.toggle&&this.horizontalToggle(),Gmap.googleMapsDeferred.promise()},initMaps:function(n,t,i){var r,u;this.center=n;Gmap.prototype.locations=t||[];this.latlng=new google.maps.LatLng(n.lat,n.lng);r={panControl:!i,zoomControl:!i,mapTypeControl:!1,scaleControl:!i,streetViewControl:!1,overviewMapControl:!i,scrollwheel:!1,region:"nl",zoom:16,mapTypeId:google.maps.MapTypeId.ROADMAP,center:this.latlng,noClear:!1};this.map=new google.maps.Map(this.div,r);u=[{featureType:"transit",stylers:[{visibility:"off"}]}];this.map.setOptions({styles:u});setTimeout($.proxy(function(){google.maps.event.trigger(this.map,"resize")},this),0);this.keyboardHandler(this.map);google.maps.event.addListener(this.map,"click",$.proxy(function(){this.map.setOptions({scrollwheel:!0})},this));google.maps.event.addListener(this.map,"mouseout",$.proxy(function(){this.map.setOptions({scrollwheel:!1})},this));google.maps.event.addListener(window,"resize",function(){setTimeout(function(){this.setCenterOnResize()},250)});this.markerClickBinding();this.addMarkers();extWindows.addTitles()},addMarkers:function(){var n,e,s,r,o;this.infoWindow=new google.maps.InfoWindow({maxWidth:200,buttons:{close:{visible:!1}}});var i=$('<a href="#" style="display:block; position:absolute; width:1px; height:1px; overflow:hidden;" title="marker">&nbsp;<\/a>'),t=0,f={map:this.map,draggable:!1},r=new google.maps.Marker(f),u=new google.maps.LatLngBounds;if(i.insertAfter($(this.div)),Gmap.prototype.locations.length)for(t=0;t<Gmap.prototype.locations.length;t++)n=Gmap.prototype.locations[t],e=new google.maps.LatLng(n.lat,n.lng),u.extend(e),s=this.icons[n.type],f={position:e,map:this.map,icon:s,title:n.title,zIndex:n.zIndex,draggable:!1,type:n.type,id:"marker"+[t],subType:n.subType},r=new google.maps.Marker(f),o=n.url,i.attr({href:o,title:n.title}),t==Gmap.prototype.locations.length-1&&i.addClass("last-marker"),Gmap.prototype.markers.push(r),this.showInfoBubble(r,t,i,o);u.length&&(this.map.setCenter(u.getCenter()),this.map.fitBounds(u))},showInfoBubble:function(n,t,i,r){var f,o,u,e;n.type!="stop"&&n.type!="station"&&(r=null);f=(r?'<a href="'+r+'"':"<div")+' class="default"><img src="'+n.icon+'" class="float-left m-r-10"/><div class="float-left w-max-70-p"><h6 class="fat m-b-5">'+n.title+'<\/h6><span class="text-muted m-t-0">'+n.subType+"<\/span><\/div>"+(r?"<\/a>":"<\/div>");o=$(f);google.maps.event.addListener(n,"click",$.proxy(function(){this.infoWindow.setContent(f);this.infoWindow.open(this.map,n);this.map.panTo(n.position)},this));u=this;i.bind("focus",function(){u.infoWindow.setContent(f);u.infoWindow.open(u.map,n)});i.bind("blur",function(){u.infoWindow.close()});e=$.proxy(function(){this.infoWindow.close()},this);google.maps.event.addListener(this.map,"zoom_changed",e);google.maps.event.addListener(this.map,"mousedown",e)},keyboardHandler:function(){var n=$('<a href="#" class="dummy-gmap-focus" />'),t=this.div;$(t).append(n);google.maps.event.addListenerOnce(this.map,"idle",function(){var t=0;$(n).next("div").find("div[title]").each(function(){var i="",n;t==0&&(i="first-googlemaps-control-element");n='<a href="#" onclick="return false;" title="'+$(this).attr("title")+'" class="dummy-gmap-control" id="'+i+'">&nbsp;<\/a>';$(this).append(n);$(n).width($(this).width());$(n).height($(this).height())});$(".gmaps-container .curtain").addClass("hidden")});$(n).bind("focus",function(){$(this).blur();$("#first-googlemaps-control-element").focus()})},horizontalToggle:function(){var n=$("#surroundings").data("show-list");$(".map h2").after('<a href="#" class="right toggler">'+n+"<\/a>");var t=$(".map-container").outerWidth(!0),i=$(".locations").outerWidth(!0)+14,r=$("#surroundings").data("show-map"),n=$("#surroundings").data("show-list");$(".locations").addClass("invisible");$(".map-container, .locations").wrapAll('<div class="slider contain clear" />');$(".slider").width(t+i);$(".map .toggler").click(function(i){$(".locations").hasClass("invisible")?($(".locations").removeClass("invisible"),$(".slider").stop().animate({marginLeft:-t}).promise().then(function(){$(".maps-container").addClass("invisible")}),$(this).text(r)):($(".maps-container").removeClass("invisible"),$(".slider").stop().animate({marginLeft:0}).promise().then(function(){$(".locations").addClass("invisible")}),$(this).text(n));i.preventDefault()})},markerClickBinding:function(){$(".marker-link").on("click",function(){google.maps.event.trigger(Gmap.prototype.markers[$(this).data("markerid")],"click")})},setCenterOnResize:function(){this.map.width=$(".maps-container").outerWidth(!0);var n=this.map.getCenter();this.map.setCenter(n)}};var locationAutocomplete={getData:function(n,t,i){return $.get(n,{userInput:t,locationType:i})},mapLocations:function(n){return $.map(n,function(n){return{value:n.Displayname,location:n,category:n.CategoryTitle}})},locationSuggestSource:function(n,t){var i=this.element.data().locationType||"",r=this.element.data().suggestUrl;locationAutocomplete.getData(r,n.term,i).done(function(n){n.hasOwnProperty("locations")?t(locationAutocomplete.mapLocations(n.locations)):t(locationAutocomplete.mapLocations(JSON.parse(n).locations))}).fail(function(){t([])})},getSuggestions:function(n,t){var u=$(n),i=u.find("input[type=text]").addClass("location-suggest__input"),r=i.data("saveAndRedirect")||!1;i.data("suggest-url",t.suggestUrl||"/suggest");i.locationSuggest({source:locationAutocomplete.locationSuggestSource,open:function(){i.locationSuggest("widget").width(i.outerWidth())},select:function(n,t){var i=$(n.target).data("ref-url-input-id");i&&$("#"+i).val(t.item.location.Url);r=$(this).data("saveAndRedirect")||!1;r&&t.item.location!=undefined?NavBarLocation.storeLocationAndNavigateToDeparturesPage(t.item.location):(showResetButton($(this)),swapFieldButtons())}});r&&i.unbind("keyup.vttInput").bind("keyup.vttInput",function(n){if(n.keyCode==13&&i.val()){if(i.locationSuggest("widget").is(":visible")){var t=[];i.locationSuggest("widget").find("li.location-suggest__item span.location-suggest__item-label").each(function(){$(this).text().toUpperCase()===$.trim(i.val()).toUpperCase()&&t.push($(this).data("location"))});t.length==1&&t[0].Url&&NavBarLocation.storeLocationAndNavigateToDeparturesPage(t[0])}else i.locationSuggest("search");n.preventDefault()}});$(".location-suggest input").unbind("keyup.allInputs click.allInputs").bind("keyup.allInputs click.allInputs",function(){$(this).val().length>=1?showResetButton($(this)):removeResetButton($(this))})}},UIInteractions={init:function(n){$(document).ready(function(){locationAutocomplete.getSuggestions(".location-suggest",{suggestUrl:n})})}},lastScrollTop=0;$(window).onload=init();$(document).ready(function(){function i(){clearTimeout(i.timeout);i.timeout=setTimeout(function(){combineAndSwapDateTime()},100)}function r(){clearTimeout(r.timeout);r.timeout=setTimeout(function(){combineAndSwapDateTime()},100)}function u(){$(".list-group-flush .list-group-item input:checkbox").each(function(){$(this).is(":checked")?$(this).closest(".list-group-item").addClass("lightbluebg"):$(this).closest(".list-group-item").removeClass("lightbluebg")})}var n,t,f,e;IEfullScreenPlannerBlockParent();initHomepageFunctions();$("#mce-EMAIL").attr("autocomplete","email");$("#mce-FNAME").attr("autocomplete","given-name");$("#mce-LNAME").attr("autocomplete","family-name");$("#mce-MMERGE3").attr("autocomplete","organization");$(".collapseMap").on("click",function(){$("#googlemap").hasClass("map-small")?($("#googlemap").removeClass("map-small").addClass("map-large"),$(".collapseMap").addClass("active").attr("data-original-title",$(".collapseMap").data("txt-smaller"))):($("#googlemap").removeClass("map-large").addClass("map-small"),$(".collapseMap").removeClass("active").attr("data-original-title",$(".collapseMap").data("txt-larger")))});$.cookie("calamiteitenbalk")=="closed"&&$(".calamiteitenbalk").hide();$(".closeCalamity").click(function(n){$(".calamiteitenbalk").alert("close");n.preventDefault();$.cookie("calamiteitenbalk","closed",{path:"/"})});$(window).bind("pageshow",function(n){navigator.userAgent.indexOf("Safari")&&n.originalEvent.persisted&&($(":submit").attr("disabled",!1),$(":submit .loader-inline-template").hide(),$(":submit .fa-arrow-right").show())});$(".disturbancetabs a").on("click",function(){$(".plannertabspanels .tab-pane").removeClass("show active");$(".plannertabs a").removeClass("active").attr("aria-selected","false");$(".disturbancetabspanels .tab-pane").addClass("show active")});$(".plannertabs a").on("click",function(){$(".disturbancetabspanels .tab-pane").removeClass("show active");$(".disturbancetabs a").removeClass("active").attr("aria-selected","false")});$(".btnGetPlannedDisturbances").click(function(n){n.preventDefault();$(this).tab("show");var t=$(".btnGetPlannedDisturbances").attr("href");$.get(t).done(function(n){$("#disturbances").html(n)}).fail(function(){$("#disturbances").html($(this).data("modal-error"))}).always(function(){})});$(".tab-pane.active .dropdown .dropdown.keep-open").on({"shown.bs.dropdown":function(){this.closable=!1},click:function(){this.closable=!0},"hide.bs.dropdown":function(){return this.closable}});$("#btnHamburger").on("click",function(){$(".tooltip").hide()});n=[];$("body").on("click",".tab-pane.active .dropdown.keep-open .dropdown-menu a",function(t){var i=$(this).attr("data-value"),e=".tab-pane.active .dropdown-menu a[data-value='"+i+"']",u=$(e).find("input"),f,r;return(f=n.indexOf(i))>-1?(n.splice(f,1),setTimeout(function(){u.prop("checked",!1)},0),i=="timeline-content-stops"&&$(".tab-pane.active .timeline-content-stops .leg-item-toggleInfo").css("display")=="block"&&($(".tab-pane.active .timeline-content-stops .leg-item-toggleInfo").css("display","none"),$(".tab-pane.active .timeline-content-stops").removeClass("leg-item-open")),i=="timeline-content-route"&&$(".tab-pane.active .timeline-content-route .leg-item-toggleInfo").css("display")=="block"&&($(".tab-pane.active .timeline-content-route .leg-item-toggleInfo").css("display","none"),$(".tab-pane.active .timeline-content-route").removeClass("leg-item-open")),r="."+i,$(r).removeClass("printPart")):(n.push(i),setTimeout(function(){u.prop("checked",!0)},0),i=="timeline-content-stops"&&$(".tab-pane.active .timeline-content-stops .leg-item-toggleInfo").css("display")=="none"&&($(".tab-pane.active .timeline-content-stops .leg-item-toggleInfo").css("display","block"),$(".tab-pane.active .timeline-content-stops").addClass("leg-item-open")),i=="timeline-content-route"&&$(".tab-pane.active .timeline-content-route .leg-item-toggleInfo").css("display")=="none"&&$(".tab-pane.active .leg-item-toggle.printmap").trigger("click.itemToggle"),r="."+i,$(r).addClass("printPart")),$(t.target).blur(),!1});$(".tab-pane.active .journeyToolBar .btn-group .dropdown:not(.keep-open)").on("click",function(){$(".dropdown").removeClass("open")});$(".faqopen").click(function(){var n=$(this).parents(".faqtopic"),r=n.find(".faqanswer"),i=n.find(".faq-t"),u=$(this).data("title"),t;r.slideToggle(200);i.hasClass("faq-o")?i.removeClass("faq-o"):i.addClass("faq-o");n.hasClass("expanded")?n.removeClass("expanded"):n.addClass("expanded");$(this).attr("aria-expanded")=="true"?(t=$(this).attr("data-txt-closed"),$(this).attr("aria-label",t),$(this).attr("aria-expanded","false"),$(this).next("div").attr("aria-hidden","true")):(t=$(this).attr("data-txt-open"),$(this).attr("aria-label",t),$(this).attr("aria-expanded","true"),$(this).next("div").attr("aria-hidden","false"))});$(".lock-from-button, .lock-to-button").click(function(){var n,t;$(this).attr("aria-pressed")=="true"?(n=$(this).attr("data-txt-inactive"),$(this).attr("title",n),$(this).attr("data-original-title",n),$(this).hasClass("lock-from-button")?$("#fromLock").val("false"):$("#toLock").val("false")):(t=$(this).attr("data-txt-active"),$(this).attr("title",t),$(this).attr("data-original-title",t),$(this).hasClass("lock-to-button")?$("#toLock").val("true"):$("#fromLock").val("true"))});$("body").on("keypress",".leg-item-toggle, #clearButt, #searchButt, .reset, .lock-from-button, .lock-to-button, .swapfieldsbut, .locationtypes label.btn",function(n){var t=n.which;if(t==13)return $(this).click(),!1});$(".selectDate, .selectTime").keypress(function(n){var t=n.which;if(t==13)return $(this).click(),!1});t=!1;$(".selectDate, .selectTime").on("click tap touchstart",function(){t||(t=!0)});positionMenu();$("#planner .input-group input[type=text]:not(#date,#time)").each(function(){$(this).val().length>0?$(this).parent().find(".input-group-append .reset").removeClass("hidden"):$(this).parent().find(".input-group-append .reset").addClass("hidden")});swapFieldButtons();initCustomTabBehaviorForPlanner();clearHiddenValueWhenInputFieldIsEmpty($("#van"),$("#from-url"));clearHiddenValueWhenInputFieldIsEmpty($("#via-text"),$("#via-url"));clearHiddenValueWhenInputFieldIsEmpty($("#naar"),$("#to-url"));clearHiddenValueWhenInputFieldIsEmpty($("#newlocation"),$("#location-url"));$("#via-text").length>0&&$("#via-text").val().length>0&&RemoveVia1ClassHidden();isLanguageDutch()?setNLValidationMessages():resetValidationMessages();$("#planner").validate({onfocusout:!1,errorClass:"plannerError",ignore:"",rules:{fromText:{required:!0},toText:{required:!0},date:{required:!0},time:{required:!0}},tooltip_options:{fromText:{placement:"top"},toText:{placement:"top"},date:{placement:"top"},time:{placement:"top"}},messages:{fromText:{required:isLanguageDutch()?"Van is niet ingevuld":"From is not filled"},toText:{required:isLanguageDutch()?"Naar is niet ingevuld":"To is not filled"},date:{required:isLanguageDutch()?"Datum is niet ingevuld":"Date is not filled",min:isLanguageDutch()?"Deze datum ligt te ver in het verleden":"This date is too far in the past",max:isLanguageDutch()?"Deze datum ligt te ver in de toekomst":"This date is too far in the future"},time:{required:isLanguageDutch()?"Tijd is niet ingevuld":"Time is not filled"}},highlight:function(n,t){var i=$(n).attr("aria-describedby");$("#"+i).addClass(t)},success:function(n){$(n).addClass("checked")},invalidHandler:function(n,t){$("#planner #van").is(":visible")||($('a[href$="#home"]').click(),$("div#home").removeAttr("hidden"),setTimeout(function(){t.defaultShowErrors()},250))}});$(".swapfieldsbut").click(function(){var i=$("#van").val(),r=$("#naar").val(),u=$("#to-url").val(),f=$("#to-original").val(),e=$("#to-url-original").val(),o=$("#from-url").val(),s=$("#from-original").val(),h=$("#from-url-original").val(),c=$("#fromLock").val(),l=$("#toLock").val(),a=$("#fromLockButton").attr("title"),v=$("#toLockButton").attr("title"),n=$("#fromLockButton").attr("aria-pressed"),t=$("#toLockButton").attr("aria-pressed");$("#naar").val(i);$("#van").val(r);$("#from-url").val(u);$("#from-original").val(f);$("#from-url-original").val(e);$("#to-url").val(o);$("#to-original").val(s);$("#to-url-original").val(h);$("#fromLock").val(l);$("#toLock").val(c);$("#fromLockButton").attr("title",v);$("#toLockButton").attr("title",a);$("#fromLockButton").attr("aria-pressed",t);$("#toLockButton").attr("aria-pressed",n);$("#fromLockButton").attr("data-original-title",t);$("#toLockButton").attr("data-original-title",n)});$(".addvia").on("click",function(){RemoveVia1ClassHidden()}).on("keypress",function(n){(n.which===13||n.keyCode===13)&&RemoveVia1ClassHidden()});$(".closevia").on("click",function(){AddVia1ClassHidden()}).on("keypress",function(n){(n.which===13||n.keyCode===13)&&(AddVia1ClassHidden(),$("a.addvia").focus())});$(".datum, .tijd").on("blur change focusout",i);$(".widgetDate, .widgetTime").on("blur change focusout",r);$(window).resize(function(){$("input").is(":focus")&&isMobile.any()||positionMenu();IEfullScreenPlannerBlockParent()});$("body").on("click",".scroll",function(n){n.preventDefault();var t=$(this.hash).offset().top+1;$(this.hash).focus();$("html,body").animate({scrollTop:t},500)});$('a[data-toggle="tab"]').on("shown.bs.tab",function(){$("#planner input[type=text]").tooltip("dispose")});$(".feedbackBut").on("click",function(){$("#feedBackModal").modal("show")});$("body").on("click",".bntLogInMy9292",function(){loadMy9292LoginModal($(this))});$(".agreeTOS").on("click",function(){loadDisclaimerAndPrivacy($(this))});overrideFormsSubmit();$("#register-form").validate({rules:{Email:{required:!0,email:!0},Password:{required:!0,minlength:8,notEqualTo:"#inputEmail"},AgreeTOS:{required:!0}},tooltip_options:{Email:{placement:"top"},Password:{placement:"top"},AgreeTOS:{placement:"top"}},messages:{AgreeTOS:isLanguageDutch()?"Je dient akkoord te gaan met de algemene voorwaarden":"You need to agree to the terms of agreement",Email:{required:isLanguageDutch()?"E-mail is niet ingevuld":"Email is not filled"},Password:{required:isLanguageDutch()?"Wachtwoord is niet ingevuld":"Password is not filled",minlength:isLanguageDutch()?jQuery.validator.format("Voer ten minste {0} karakters in"):jQuery.validator.format("Please enter at least {0} characters")}}});$("#forgot-pass-form").validate({rules:{email:{required:!0}},tooltip_options:{email:{placement:"top"}},messages:{email:{required:isLanguageDutch()?"E-mail is niet ingevuld":"Email is not filled"}}});$("#reset-password-form").validate({rules:{NewPassword:{minlength:8,required:!0},NewPasswordConfirm:{minlength:8,required:!0}},tooltip_options:{NewPassword:{placement:"top"},NewPasswordConfirm:{placement:"top"}},NewPassword:{required:isLanguageDutch()?"Nieuw wachtwoord is niet ingevuld":"New password is not filled",minlength:isLanguageDutch()?jQuery.validator.format("Voer ten minste {0} karakters in"):jQuery.validator.format("Please enter at least {0} characters")},NewPasswordConfirm:{required:isLanguageDutch()?"Bevestig nieuw wachtwoord is niet ingevuld":"Confirm new password is not filled",minlength:isLanguageDutch()?jQuery.validator.format("Voer ten minste {0} karakters in"):jQuery.validator.format("Please enter at least {0} characters")}});validateEditPasswordForm();validateSearchInDisturbance();$(".modalbut").on("click",function(){loadGenericModal($(this));var n=$(this).data("modal-content");$("#genericModal .modal-body #dataHolder").html(n);$("#genericModal .modal-body .curtain").hide()});$(".accessibilityButton").on("click",function(){$(this).hasClass("active")?$("#planWithAccessibility").val("false"):$("#planWithAccessibility").val("true")});$("body").on("click",".nearbut",function(){loadGenericModal($(this));NavBarLocation.getNeighborhoodStops();NavBarLocation.getMostUsedStops()});$("#mainnav .deleteloc").on("click",function(){$("#sureModal").modal("show")});$("#myLocationsForm .select_all").change(function(){var n=$(this).closest("form").find(":checkbox");$(this).is(":checked")?n.prop("checked",!0):n.prop("checked",!1)});$("#myLocationsForm :checkbox").change(function(){var n=$(this).closest("form").find(".deleteloc");$(this).closest("form").find(".list-group-flush input:checkbox:checked").length>0?n.removeClass("hidden"):n.addClass("hidden");u()});$("#myLocationsForm .deleteloc").on("click",function(){var n=[],t=$(this).data("notificationtxt");$("#myLocationsForm .list-group-flush .list-group-item input:checkbox").each(function(){$(this).is(":checked")&&($(this).closest(".list-group-item").hasClass("hidden")||($(this).closest(".list-group-item").addClass("hidden"),n.push($(this).data("location-id"))))});$.post("/delete-location",$.param({locationsids:n},!0)).success(function(){showUserMessage(t)}).always(function(){var n=$("#mySavedLocationsTable tbody tr").not(".hidden").length;n===0&&($(".noSavedLocation").removeClass("hidden"),$("#mySavedLocationsTable").addClass("hidden"),$(".deleteloc").addClass("hidden"))})});$("#mySavedJourneys .select_all").change(function(){var n=$(this).closest("form").find(":checkbox");$(this).is(":checked")?n.prop("checked",!0):n.prop("checked",!1)});$("#mySavedJourneys :checkbox").change(function(){var n=$(this).closest("form").find(".deletejrn");$(this).closest("form").find(".list-group-flush input:checkbox:checked").length>0?n.removeClass("hidden"):n.addClass("hidden");u()});$("#mySavedJourneysInPassed .select_all").change(function(){var n=$(this).closest("form").find(":checkbox");$(this).is(":checked")?n.prop("checked",!0):n.prop("checked",!1)});$("#mySavedJourneysInPassed :checkbox").change(function(){var n=$(this).closest("form").find(".deletejrnpss");$(this).closest("form").find(".list-group-flush input:checkbox:checked").length>0?n.removeClass("hidden"):n.addClass("hidden");u()});$("#mySavedJourneysInPassed .deletejrnpss").on("click",function(n){n.stopPropagation();var t=[];$("#mySavedJourneysInPassed .list-group-flush .list-group-item input:checkbox").each(function(){$(this).is(":checked")&&($(this).closest(".list-group-item").hasClass("hidden")||($(this).closest(".list-group-item").addClass("hidden"),t.push($(this).data("journey-id"))))});$.post("/delete-journey",$.param({hashs:t},!0))});$("#mySavedJourneys .deletejrn").on("click",function(n){n.stopPropagation();var t=[];$("#mySavedJourneys .list-group-flush .list-group-item input:checkbox").each(function(){$(this).is(":checked")&&($(this).closest(".list-group-item").hasClass("hidden")||($(this).closest(".list-group-item").addClass("hidden"),t.push($(this).data("journey-id"))))});$.post("/delete-journey",$.param({hashs:t},!0)).always(function(){var n=$("#mySavedJourneysTable tbody tr").not(".hidden").length;n===0&&$("#mySavedJourneys").addClass("hidden")})});$("#myLocationsForm .list-group-flush .list-group-item .btn:not(.dropdown-toggle)").click(function(n){n.stopPropagation()});$("[data-van]").on("click",function(){var n=$(this).data("van");$("#van").val(n);$("#from-url").val(n);$("#van").val().length>0?($("#van").addClass("flatright"),$("#van").parent().parent().parent().parent().find(".input-group-addon").removeClass("hidden")):($("#van").removeClass("flatright"),$("#van").parent().parent().parent().parent().find(".input-group-addon").addClass("hidden"));swapFieldButtons();$(".sidebar_wrapper").hasClass("active")||toggleSideBar()});$("[data-naar]").on("click",function(){var n=$(this).data("naar");$("#naar").val(n);$("#to-url").val(n);$("#naar").val().length>0?($("#naar").addClass("flatright"),$("#naar").parent().parent().parent().parent().find(".input-group-addon").removeClass("hidden")):($("#naar").removeClass("flatright"),$("#naar").parent().parent().parent().parent().find(".input-group-addon").addClass("hidden"));swapFieldButtons();$(".sidebar_wrapper").hasClass("active")||toggleSideBar()});$("#genericModal").on("hidden.bs.modal",function(){resetGenericModal()});$("#genericModal").on("show.bs.modal",function(){$(".tooltip").tooltip("hide")});$('[data-show="tooltip"]').on("click",function(){$(this).tooltip("hide")});$(".imgAmberAlert").on("click",function(){loadAmberAlert($(this))}).on("keypress",function(n){(n.which===13||n.keyCode===13)&&loadAmberAlert($(this))});$(".sidebar_button").on("click",function(){toggleSideBar()});$("body").tooltip({selector:'[data-show="tooltip"]'});bindAccessibilityFeedbackEmail();f=["far icon-train","far icon-tram","far icon-ferry","far icon-lightrail","far icon-subway"];e=f[Math.floor(Math.random()*f.length)];$(".fourOfour i").removeClass().addClass(e)});$.widget("custom.locationSuggest",$.ui.autocomplete,{_create:function(){this._super();this.widget().menu("option","items","> :not(.location-suggest__category)");this.menu.element.addClass("easy-autocomplete-container");(Modernizr.touchevents||isMobile.any())&&this.widget().off("menufocus hover mouseover mouseenter")},_renderMenu:function(n,t){var r=this,i="";$("#planner input[type=text]").tooltip("dispose");$.each(t,function(t,u){var e,f;u.category!==i&&(n.append("<li class='location-suggest__category'>"+u.category+"<\/li>"),i=u.category);e=r._renderItemData(n,u);f=u.location.SubType;!isLanguageDutch()&&u.location.EnglishSubType&&(f=u.location.EnglishSubType);e.attr("aria-label",f+": "+u.label)})},_renderItem:function(n,t){var i=$("<span/>").addClass("location-suggest__item-label"),u=$("<span/>").addClass("location-suggest__item-meta"),r;return i.text(t.location.Displayname),i.data("location",t.location),r=t.location.SubType,!isLanguageDutch()&&t.location.EnglishSubType&&(r=t.location.EnglishSubType),u.text(r+" | "+t.location.Region),$("<li>").addClass("location-suggest__item location-icon-"+t.location.Type).append(i,u).appendTo(n)}});$.validator.addMethod("notEqualTo",function(n,t,i){return this.optional(t)||n.toLowerCase()!=$(i).val().toLowerCase()},isLanguageDutch()?"E-mail en wachtwoord mogen niet hetzelfde zijn":"Your email cannot be your password");$(window).scroll(function(){var n=$(this).scrollTop(),t;n>lastScrollTop?$("#toprow").hasClass("fixed")&&($("#toprow").removeClass("fixed"),$(".fillerdiv").remove()):this.pageYOffset<80?$("#toprow").hasClass("fixed")&&($("#toprow").removeClass("fixed"),$(".fillerdiv").remove()):$("#toprow").hasClass("fixed")||(t='<div class="fillerdiv" style="width:100%; height:'+$("#toprow").height()+'px"><\/div>',$("#toprow").addClass("fixed"),$(t).insertBefore("#mainhome"));lastScrollTop=n});Journey={maxNrOfTabs:0,mapsKey:"",loaderText:"",downloadingData:!1,init:function(n,t,i){Journey.maxNrOfTabs=n;Journey.mapsKey=t;Journey.loaderText=i;Journey.initGoogleMaps(t);$(document).ready(function(){$("html,body").scrollTo($("#topAd"),500);Journey.InsertNoSundayJourneyTab();Journey.centerJourneyTab();Journey.tabNumbering();fitAdCont();Journey.enableTouchEvents();Journey.bindCarouselLayoutSwitch();Journey.bindSliderEvents()});$(document).on("shown.bs.tab",'a[data-toggle="tab"]',function(){Journey.centerJourneyTab()});$(document).on("click",".saveToCalendar",function(){var n=$(".tab-pane.active").data("icscontent");$(".tab-pane.active .icsContent").val(n)});$(document).keydown(debounce(function(n){if(!$(".sidebar_wrapper.active").length&&!$("#genericModal").is(":visible")&&!$(".tab-pane.active input").is(":focus")&&!$(".priceWizardBlock").is(":visible")){switch(n.which){case 37:Journey.goToPrev();break;case 39:Journey.goToNext();break;default:return}n.preventDefault()}},500));$(window).bind("resize",function(){window.resizeEvt;$(window).resize(function(){clearTimeout(window.resizeEvt);window.resizeEvt=setTimeout(function(){Journey.centerJourneyTab()},250)});$(window).width()<=767?(Journey.horizontalLayout(),$(".changeLayout").hide()):$(".changeLayout").show()})},initGoogleMaps:function(){var n=jQuery.Deferred(),t=!1,i=getLanguage(),r={init:function(r){if(!t){var u=document.createElement("script");u.type="text/javascript";u.src="https://maps.googleapis.com/maps/api/js?v=3&key="+r+"&callback=window.gml.googleMapsCallback&language="+i;document.body.appendChild(u);t=!0}return n.promise()},googleMapsCallback:function(){n.resolve(google.maps)}};window.gml=r},enableTouchEvents:function(){var t=document.getElementById("journeyTabs"),n;if(t){n=new Hammer(t);n.on("swipeleft",debounce(function(){(Modernizr.touchevents||isMobile.any())&&Journey.goToNext()},500));n.on("swiperight",debounce(function(){(Modernizr.touchevents||isMobile.any())&&Journey.goToPrev()},500));n.on("press",function(){if(Modernizr.touchevents||isMobile.any()){if($("#journeyTabs .tab-pane.active .curtain.is-cancelled").length)return!1;var n=$("#journeyTabs .tab-pane.active .btn-group-wrap").first().clone(),t=$(".change-links li .btn").clone();setGenericModalProperties("Menu","modal-sm",!1,!0,"p-25");n=n.find("a, button");$("#genericModal #dataHolder").html('<div class="btn-group"><\/div>');$("#genericModal #dataHolder div").html(n);$("#genericModal .modal-body .btnSaveJourney.disabled").remove();$("#genericModal #dataHolder").find(".btn-group").removeClass("btn-group").addClass("btn-group-vertical w-100p").find("a, button").attr("data-show","").find("span").removeClass("hidden-xs-down");$("#genericModal .modal-body .btn-group-vertical").append(t);$("#genericModal .modal-body .btn-group-vertical .btn").removeClass("btn-link").removeClass("btn-darkgrey").addClass("btn-primary whitetxt text-center");$("#genericModal .modal-body .btn-group-vertical .btn.btnSaveJourney").removeClass("btnSaveJourney").addClass("modal-saveJourney");$("#genericModal .modal-body .btn-group-vertical .btn.saveToCalendar").removeClass("saveToCalendar").addClass("modal-saveToCalendar");$("#genericModal .modal-body .btn-group-vertical .btn.printjourney").removeClass("printjourney").addClass("modal-print");$("#genericModal #dataHolder .btn.openMailForm").removeClass("openMailForm").addClass("modal-email");$("#genericModal").modal("show");$("#genericModal .curtain").hide()}})}$(document).on("click",".modal-saveJourney",function(n){n.preventDefault();$("#genericModal").modal("hide");$(".tab-pane.active .btnSaveJourney").first().click()}).on("click",".modal-saveToCalendar",function(n){n.preventDefault();$("#genericModal").modal("hide");$(".tab-pane.active .saveToCalendar").first().click()}).on("click",".modal-print",function(){$("#genericModal").modal("hide");$(".tab-pane.active .printjourney").first().click()}).on("click.modalEmail",".modal-email",function(){$("#genericModal").modal("hide").one("hidden.bs.modal",function(){setTimeout(function(){$(".tab-pane.active .openMailForm").first().click()},50)})})},bindCarouselLayoutSwitch:function(){$(".changeLayout-vert").on("click",function(){Journey.verticalLayout()});$(".changeLayout-hor").on("click",function(){Journey.horizontalLayout()})},bindStarLocationButtonEvents:function(){$(".addToFavoritesLogin").off("click").on("click",function(){loadDynamicUrlModal($(this))});$(".addToFavorites").off("click").on("click",function(){loadDynamicUrlModal($(this))});$(".deleteFavorites").off("click").on("click",function(){loadDynamicUrlModal($(this))})},bindPriceIndication:function(){$(".prijsindicatie").off("click").on("click",function(){loadGenericModal($(this));$("#genericModal #dataHolder").html($(this).data("htmlText"));$("#genericModal .curtain").hide();$(".prijsindicatieModal table").addClass("table table-sm table-bordered table-striped");$(".prijsindicatieModal .1").addClass("table-responsive");$(".prijsindicatieModal caption").addClass("sr-only").hide();setupAllTabs();ChangeTab(1)})},bindPriceWizardEvent:function(){$(".frmPriceAdvice .dynamic-switch-but-label").off("keypress").on("keypress",function(){(event.which===13||event.keyCode===13)&&$(this).find('input[name="frequencyPeriod"]').trigger("click")});$(".frmPriceAdvice").each(function(){$(this).off("submit").on("submit",function(n){var t,i,r;if(n.preventDefault(),t=$(this),!t.valid())return!1;t.find(".btn-pwSubmit").prop("disabled",!0);showLoaderIcon(".pwForm-get-advice");i=t.serialize();r=t.attr("action");$.post(r,i).done(function(n){t.parent().parent().find(".response-content").html(n);$(".tab-pane.active .pw-content-toggle").toggle();$('[data-show="tooltip"]').tooltip({trigger:"hover"})}).always(function(){t.find(".btn-pwSubmit").prop("disabled",!1);removeLoaderIcon(".pwForm-get-advice")})})});$(document).off("click.pwGoBack").on("click.pwGoBack",".btnPWGoBackToForm",function(){$(".tab-pane.active .pw-content-toggle").toggle()});$('input[name="frequencyPeriod"]').off("change.pwPeriod").on("change.pwPeriod",function(){$(this).parent().parent().find("label").toggleClass("rdChecked")});$(".frmPriceAdvice").each(function(){$(this).validate({onfocusout:!1,rules:{days:{max:function(){return $(".tab-pane.active .frmPriceAdvice input[name=frequencyPeriod]:checked").val()==="maand"?31:7}}},tooltip_options:{freqPerWeek:{placement:"top"},freqPerMonth:{placement:"top"}},messages:{age:{required:isLanguageDutch()?"Het veld leeftijd is verplicht":"Age is a required field"},days:{required:isLanguageDutch()?"Het veld aantal dagen is verplicht":"Days is a required field"}}})})},bindTabSelectionEvent:function(){$("#journeyTabList a.nav-link").unbind("click.selectJourney").bind("click.selectJourney",debounce(function(){AdvertisementUtils.fetchAdviceBannersForSelectedJourney()},500))},setBrowserUrl:function(n){n!==undefined&&n.length&&window.history.replaceState(null,n.data("title-text"),n.data("journey-url"))},retrieveNextJourneysAsJson:function(n,t){Journey.downloadingData=!0;setTimeout(function(){Journey.showLoader()},0);$.ajax({url:n,async:!0,dataType:"json",type:"GET",success:function(n){Journey.processJourneyAdviceDataSet(n,t)},error:function(){Journey.removeLoader();Journey.downloadingData=!1}})},processJourneyAdviceDataSet:function(n,t){n===null||undefined===n||undefined===n.JourneySliderBlock||n.JourneySliderBlock.length===0||undefined===n.JourneyDetailBlock||n.JourneyDetailBlock.length===0?(n=[],n.hasSlides=!1):n.hasSlides=!0;setTimeout(function(){n.hasSlides&&(Journey.carrouselCleanup(t,n.NrOfItemsInDataset),Journey.appendDataToPage(n,t),Journey.bindSliderEvents(),Journey.tabNumbering(),Journey.centerJourneyTab(),Journey.downloadingData=!1);Journey.removeLoader(t)},1)},showLoader:function(){var n=$(".journeyAdviceCol").width(),t=$(".journeyAdviceCol").height();$(".journeyAdviceCol").prepend('<div class="advice-curtain" style="width:'+n+"px; height:"+t+'px"><i class="fas fa-circle-notch fa-spin fa-3x fa-fw"><\/i><br/><small>'+Journey.loaderText+"<\/small><\/div>")},removeLoader:function(){$(".journeyAdviceCol .advice-curtain").remove()},removeExisitingTooltips:function(){$(".tab-pane.active input[type=number]").tooltip("dispose");$(".tab-pane.active .btnSaveJourney").tooltip("dispose")},appendDataToPage:function(n,t){var i=$("#journeyTabList"),r=$("#journeyTabs");t===1?(i.append(n.JourneySliderBlock),r.append(n.JourneyDetailBlock)):(i.prepend(n.JourneySliderBlock),r.prepend(n.JourneyDetailBlock))},carrouselCleanup:function(n,t){return $("#journeyTabList li").length<4*Journey.maxNrOfTabs?!1:(n===1?($("#journeyTabList li").slice(0,t).remove(),$("#journeyTabs .tab-pane").slice(0,t).remove()):($("#journeyTabList li").slice(-t).remove(),$("#journeyTabs .tab-pane").slice(-t).remove()),!0)},tabNumbering:function(){$("#journeyTabList li .nav-link").attr("href",function(n){return"#advice"+(n+1)});$("#journeyTabs .tab-pane").attr("id",function(n){return"advice"+(n+1)})},bindSliderEvents:function(){$(".leg-item-toggle").unbind("click.itemToggle").bind("click.itemToggle","[data-toggle-selector]",function(n,t){var i,r,u,f;n.preventDefault();i=$(this);$(this).find("i.fa-chevron-down").length!==0?$(this).find("i.fa-chevron-down").removeClass("fa-chevron-down").addClass("fa-chevron-up"):$(this).find("i.fa-chevron-up").length!==0&&$(this).find("i.fa-chevron-up").removeClass("fa-chevron-up").addClass("fa-chevron-down");r=i.data("toggle-parent")?i.closest(i.data("toggle-parent")):i.parent();u=r.find(i.data("toggle-selector"));f=getCookie("walkingAccepted");i.data("toggle-walking-maps")?f?executeGoogle(i,u,r,f,t):openWalkingModal().then(function(){executeGoogle(i,u,r,!0,t);walkingAccept()}):(i.data("pricewizard-switch")===!0&&u.find("input[type=number]").tooltip("dispose"),window.requestAnimationFrame(function(){u.toggle();r.toggleClass(i.data("toggle-class"))}))});Journey.bindPriceWizardEvent();Journey.bindPriceIndication();Journey.bindStarLocationButtonEvents();Journey.bindTabSelectionEvent();$("button.prevJourney").unbind("click.getNextJourneys").bind("click.getNextJourneys",debounce(function(){Journey.goToPrev()},500));$("button.nextJourney").unbind("click.getPrevJourneys").bind("click.getPrevJourneys",debounce(function(){Journey.goToNext()},500))},goToNext:function(){if(Journey.downloadingData)return!1;var n=$("#bar-row .nav-item .nav-link.active").parent(),r=$(n).find(".nav-link"),t=$(n).next(),i=$(t).find(".nav-link");Journey.removeExisitingTooltips();$(t).length&&($(i).click(),$(r).removeClass("active"),$(i).addClass("active"),$(window).trigger("resize"));var u=$("#journeyTabList li").length,f=$("#journeyTabList li a.active").parent().index(),e=f+1,o=u-e;o<=1?Journey.retrieveNextJourneysAsJson($("#bar-row .nav-item .nav-link.active").parent().data("next-journey-url"),1):Journey.centerJourneyTab();AdvertisementUtils.fetchAdviceBannersForSelectedJourney();fitAdCont()},goToPrev:function(){var r;if(Journey.downloadingData)return!1;var n=$("#bar-row .nav-item .nav-link.active").parent(),u=$(n).find(".nav-link"),t=$(n).prev(),i=$(t).find(".nav-link");Journey.removeExisitingTooltips();$(t).length&&($(i).click(),$(u).removeClass("active"),$(i).addClass("active"),$(window).trigger("resize"));r=$("#journeyTabList li a.active").parent().index();r<=1?Journey.retrieveNextJourneysAsJson($("#bar-row .nav-item .nav-link.active").parent().data("previous-journey-url"),Journey.maxNrOfSlides,0):Journey.centerJourneyTab();AdvertisementUtils.fetchAdviceBannersForSelectedJourney();fitAdCont()},verticalLayout:function(){$("#journeyTabList").removeClass("flex").addClass("noFlex");$("#bar-row").addClass("Side");$(".prevJourney").removeClass("flex").addClass("Side");$(".prevJourney i").removeClass("fa-arrow-left").addClass("fa-arrow-up");$(".nextJourney").removeClass("flex").addClass("Side");$(".nextJourney i").removeClass("fa-arrow-right").addClass("fa-arrow-down");$(".tabNavRow").removeClass("row").addClass("float-left w-25p");$(".tabNavRow .col").addClass("p-0");$(".tabRow").removeClass("row").addClass("float-left w-75p");$("#tabNavContainer").removeClass("row").addClass("p-0");$("#tabContainer").removeClass("row").addClass("Side");setTimeout(function(){Journey.centerJourneyTab()},500)},horizontalLayout:function(){$("#journeyTabList").addClass("flex").removeClass("noFlex");$("#bar-row").removeClass("Side");$(".prevJourney").addClass("flex").removeClass("Side");$(".prevJourney i").addClass("fa-arrow-left").removeClass("fa-arrow-up");$(".nextJourney").addClass("flex").removeClass("Side");$(".nextJourney i").addClass("fa-arrow-right").removeClass("fa-arrow-down");$(".tabNavRow").addClass("row").removeClass("float-left w-25p");$(".tabNavRow .col").removeClass("p-0");$(".tabRow").addClass("row").removeClass("float-left w-75p");$("#tabNavContainer").addClass("row").removeClass("p-0");$("#tabContainer").addClass("row").removeClass("Side");setTimeout(function(){Journey.centerJourneyTab()},500)},centerJourneyTab:function(){var n,t,i,r,u;$("#bar-row").hasClass("Side")?(t=$("#bar-row").height()/2,i=$(".nav-item .nav-link").outerHeight()/2,n=t-i,n=n*=-1,$("#bar-row").scrollTo($(".nav-item .nav-link.active"),500,{offset:n})):(r=$("#bar-row").width()/2,u=$(".nav-item .nav-link").outerWidth()/2,n=r-u,n=n*=-1,$("#bar-row").scrollTo($(".nav-item .nav-link.active"),500,{offset:n}))},initSaveJourney:function(n,t){$("a.btnSaveJourney").unbind("click.btnSaveJourney").bind("click.btnSaveJourney",function(i){i.preventDefault();var r=$(this),u=r.parent().parent().parent().find("a.btnSaveJourney"),f=".toolbar-savetomy9292",e=r.attr("href");u.each(function(){$(this).addClass("disabled")});showLoaderIcon(f);$.post(e).done(function(){var t=r.data("saved-label");u.find(".saveJourneyText").each(function(){$(this).text(n);$(this).wrap('<div class="float-right m-l-5" data-show="tooltip" data-placement="bottom" title="'+t+'"><\/div>');$(this).tooltip("hide")})}).fail(function(){u.each(function(){$(this).tooltip("dispose").attr("title",t).tooltip({placement:"top",trigger:"manual",template:'<div class="tooltip"><div class="tooltip-arrow orangearrow"><\/div><div class="tooltip-inner orangebg"><\/div><\/div>'}).tooltip("show").removeClass("disabled")})}).always(function(){removeLoaderIcon(f)})})},InsertNoSundayJourneyTab:function(){if($("#NoSundayJourney").length){var n=$("#NoSundayJourney").index();Journey.tabNumbering();$("#advice"+n).after('<div class="dynamic-tab-pane-control tab-pane p-0 active show" role="tabpanel" aria-labelledby="tab-label"><div id="NoSundayContent" class="relativePos"><\/div><\/div>');$("#journeyTabList .nav-item:not(#NoSundayJourney) .nav-link").removeClass("active show");$("#journeyTabs .tab-pane:not(.active.show)").removeClass("active");Journey.loadNoSundayJourneyContent()}},loadNoSundayJourneyContent:function(){var n="/GenerateNoJourneySundayView";isLanguageDutch()||(n="/en"+n);n=n+"?sunday="+$("#NoSundayJourney").attr("data-date");$.get(n).done(function(n){$("#NoSundayContent").html(n);Journey.filterSundayProvinces()}).fail(function(){})},filterSundayProvinces:function(){var n=$("#NoSundayJourney").attr("data-from-province"),t=$("#NoSundayJourney").attr("data-to-province");$(".province-item").hide();n!==t&&$("#province-"+n).show();$("#province-"+t).show()}};var PrintButtons={printSelector:".toolbar-print",init:function(){isMobile.any()||$.ctrl("P",function(){PrintButtons.openMaps()});var n=$("a.printjourney");n.each(function(n,t){$(t).on("click",function(n){n.preventDefault();showLoaderIcon(PrintButtons.printSelector);PrintButtons.openMaps()})})},openMaps:function(){var t=$(".tab-pane.active .printmap"),n={},i=[];$(".tab-pane.active a[data-value='timeline-content-route'] input[type='checkbox']").is(":checked")?($.each(t,function(t,r){var u=$.Deferred();n[t]=$(r).closest(".leg-item.timeline-content").filter(".leg-item-open").length<1;n[t]&&(i.push(u),$(r).trigger("click",u))}),$.when.apply($,i).then(function(){setTimeout(function(){removeLoaderIcon(PrintButtons.printSelector);window.print();PrintButtons.restoreStates(t,n)},250)})):window.print()},restoreStates:function(n,t){$.each(n,function(n,i){var r=$(i).closest(".leg-item.timeline-content").filter(".leg-item-open").length<1;r!==t[n]&&$(i).click()})}},PriceWizard={init:function(n){$(".order-product-link").off("click.productOrdering").on("click.productOrdering",function(){var t={companyName:$(this).data("company-name"),productName:$(this).data("product-name")};$.ajax({method:"GET",url:n,data:t,contentType:"application/json; charset=utf-8"})})}},LocationsInMap={map:"",markers:[],infowindow:{},isEnglishLanguage:!1,translatedUseAsTo:"",translatedUseAsFrom:"",translatedDepartureTimes:"",translatedCurrentLocation:"",translatedGeoLocationError:"",translatedGeoLocationIsNotSupported:"",i:"",apiLoaded:$.Deferred(),gmapsApiCallBack:function(){LocationsInMap.apiLoaded.resolve()},addMarker:function(n){var r={url:"/static/images/gmap-icon-"+n.Type+".png",scaledSize:new google.maps.Size(62,50)},t=new google.maps.Marker({position:new google.maps.LatLng(n.LatLong.Latitude,n.LatLong.Longitude),map:LocationsInMap.map,icon:r,animation:google.maps.Animation.DROP,title:n.Url,zIndex:2});google.maps.event.addListener(t,"click",function(t){var i='<h6><i class="far icon-'+n.Type+'"><\/i>'+n.Name+'<br><small class="text-muted">'+n.SubType+" &middot; "+n.Region+" &middot; "+n.Distance+"<\/small><\/h6>";return i=i+'<hr><button data-van="'+n.Url+'" class="btn btn-primary btn-sm centered m-l-5 p-5"><i class="fas fa-arrow-right"><\/i> '+LocationsInMap.translatedUseAsFrom+'<\/button> <button data-naar="'+n.Url+'" class="btn btn-primary btn-sm centered m-l-5 p-5"><i class="fas fa-arrow-right"><\/i> '+LocationsInMap.translatedUseAsTo+"<\/button>",(n.SubType=="Bushalte"||n.SubType=="Station"||n.SubType=="Tramhalte")&&(i=i+' <a href="/'+n.Url+'" class="btn btn-primary btn-sm centered m-l-5 p-5"><i class="fas fa-clock"><\/i> '+LocationsInMap.translatedDepartureTimes+"<\/button>"),function(){LocationsInMap.infowindow.setContent('<div class="googleInfoWindow">'+i+"<\/div>");LocationsInMap.infowindow.open(LocationsInMap.map,t)}}(t,i));t.Url=n.Url;LocationsInMap.markers.push(t)},getNearBy:function(){var r=LocationsInMap.map.getCenter().lat(),u=LocationsInMap.map.getCenter().lng(),t,f=(LocationsInMap.languageIsEnglish?"/en":"")+"/locations/"+r+"/"+u,n=[];jQuery.ajax({type:"GET",url:f,dataType:"json",success:function(r){for(n=r.locations,i=0;i<n.length;i++){t=!1;for(var u=0;u<LocationsInMap.markers.length;u++)if(LocationsInMap.markers[u].Url===n[i].Url){t=!0;break}t||LocationsInMap.addMarker(n[i])}},error:function(){},complete:function(){}})},setCurrentPosition:function(n){function i(t){var i={lat:t.coords.latitude,lng:t.coords.longitude},u=new google.maps.MarkerImage("/static/images/gmap-currentLocation-icon-small.png",new google.maps.Size(35,35),new google.maps.Point(0,0),new google.maps.Point(22.5,25)),f=new google.maps.Marker({position:i,map:LocationsInMap.map,icon:u,optimized:!1,zIndex:1}),e=new google.maps.Circle({strokeColor:"#009ae0",strokeOpacity:.4,strokeWeight:1,fillColor:"#009ae0",fillOpacity:.1,map:LocationsInMap.map,center:i,radius:500}),r;n.setPosition(i);n.setContent(LocationsInMap.translatedCurrentLocation);LocationsInMap.map.setOptions({styles:[{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#7fccef"},{lightness:30}]},{featureType:"landscape",elementType:"geometry",stylers:[{hue:39},{saturation:4},{lightness:24}]}]});LocationsInMap.map.setCenter(i);LocationsInMap.map.setZoom(15);r='<button id="recenter" type="button" tabindex="0" class="btn btn-primary btn-sm p-5 p-lr-10" data-show="tooltip" data-placement="top" data-original-title="'+LocationsInMap.translatedCurrentLocation+'"><i class="far fa-dot-circle"><\/i><\/button>';$(".collapseMapContainer").append(r);$("#recenter").click(function(){LocationsInMap.map.panTo(i)})}function r(t){n.setPosition(t);n.setContent(LocationsInMap.translatedGeoLocationError)}function u(){n.setContent(LocationsInMap.translatedGeoLocationIsNotSupported)}var t=function(){return navigator.geolocation?new Promise(function(n,t){navigator.geolocation.getCurrentPosition(n,t)}):new Promise(function(n){n({})})};t().then(function(n){n.coords?i(n):r(n);LocationsInMap.getNearBy()}).catch(function(n){u(n);LocationsInMap.getNearBy()})},initialize:function(n,t,i,r,u,f,e,o){return LocationsInMap.translatedUseAsTo=t,LocationsInMap.translatedUseAsFrom=i,LocationsInMap.translatedDepartureTimes=r,LocationsInMap.translatedCurrentLocation=u,LocationsInMap.translatedGeoLocationError=f,LocationsInMap.translatedGeoLocationIsNotSupported=e,LocationsInMap.languageIsEnglish=o,LocationsInMap.apiLoaded.promise()},initializeMap:function(){var t,r,u,n;for(LocationsInMap.infowindow=new google.maps.InfoWindow({zIndex:2}),t={zoom:9,center:new google.maps.LatLng(52.243333,5.634167),mapTypeId:google.maps.MapTypeId.TERRAIN,mapTypeControl:!1,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.TOP_CENTER},zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},scaleControl:!0,streetViewControl:!1,clickableIcons:!1,fullscreenControl:!0},LocationsInMap.map=new google.maps.Map(document.getElementById("googlemap"),t),r=new google.maps.InfoWindow({map:LocationsInMap.map,zIndex:1}),LocationsInMap.setCurrentPosition(r),i=0;i<locations.length;i++)u={url:locations[i][3],scaledSize:new google.maps.Size(62,50)},n=new google.maps.Marker({position:new google.maps.LatLng(locations[i][1],locations[i][2]),map:LocationsInMap.map,icon:u,zIndex:1}),google.maps.event.addListener(n,"click",function(n,t){var i='<h6><i class="far icon-'+locations[t][5]+'"><\/i>'+locations[t][0]+'<br><small class="text-muted">'+locations[t][6]+" &middot; "+locations[t][7]+"<\/small><\/h6>";return i=i+'<hr><button data-van="'+locations[t][4]+'" class="btn btn-primary btn-sm centered m-l-5 p-5"><i class="fas fa-arrow-right"><\/i> '+LocationsInMap.translatedUseAsFrom+'<\/button> <button data-naar="'+locations[t][4]+'" class="btn btn-primary btn-sm centered m-l-5 p-5"><i class="fas fa-arrow-right"><\/i> '+LocationsInMap.translatedUseAsTo+"<\/button>",(locations[t][6]=="Bushalte"||locations[t][6]=="Station"||locations[t][6]=="Tramhalte")&&(i=i+'  <a href="/'+locations[t][4]+'" class="btn btn-primary btn-sm centered m-l-5 p-5"><i class="fas fa-clock"><\/i> '+LocationsInMap.translatedDepartureTimes+"<\/button>"),function(){LocationsInMap.infowindow.setContent('<div class="googleInfoWindow">'+i+"<\/div>");LocationsInMap.infowindow.open(LocationsInMap.map,n)}}(n,i)),LocationsInMap.markers.push(n);google.maps.event.addListener(LocationsInMap.infowindow,"domready",function(){$("[data-van]").on("click",function(){var n=$(this).data("van");$("#van").val(n);$("#from-url").val(n);$("#van").val().length>0?$("#van").parent().find(".input-group-append .reset").removeClass("hidden"):$("#van").parent().find(".input-group-append .reset").addClass("hidden");swapFieldButtons();$(".sidebar_wrapper").hasClass("active")||toggleSideBar()});$("[data-naar]").on("click",function(){var n=$(this).data("naar");$("#naar").val(n);$("#to-url").val(n);$("#naar").val().length>0?$("#naar").parent().find(".input-group-append .reset").removeClass("hidden"):$("#naar").parent().find(".input-group-append .reset").addClass("hidden");swapFieldButtons();$(".sidebar_wrapper").hasClass("active")||toggleSideBar()})});google.maps.event.addListener(LocationsInMap.map,"dragend",function(){LocationsInMap.getNearBy()})}};WebFXTabPane.prototype.classNameTag="dynamic-tab-pane-control";WebFXTabPane.prototype.setSelectedIndex=function(n){this.selectedIndex!=n&&(this.selectedIndex!=null&&this.pages[this.selectedIndex]!=null&&this.pages[this.selectedIndex].hide(),this.selectedIndex=n,this.pages[this.selectedIndex].show(),this.useCookie&&WebFXTabPane.setCookie("webfxtab_"+this.element.id,n));var t;switch(n){case 0:t="Ritprijs";break;case 1:t="OV_chipkaart";break;case 2:t="Abonnementen";break;case 3:t="Regionaal";break;case 4:t="Meer";break;default:t=""}sitestat("http://nl.sitestat.com/ovr/ovr/s?tarief.uitgebreid."+t)};WebFXTabPane.prototype.getSelectedIndex=function(){return this.selectedIndex};WebFXTabPane.prototype.addTabPage=function(n){if(hasSupport()){if(n.tabPage==this)return n.tabPage;var i=this.pages.length,t=this.pages[i]=new WebFXTabPage(n,this,i);return t.tabPane=this,this.tabRow.appendChild(t.tab),i==this.selectedIndex?t.show():t.hide(),t}};WebFXTabPane.prototype.dispose=function(){this.element.tabPane=null;this.element=null;this.tabRow=null;for(var n=0;n<this.pages.length;n++)this.pages[n].dispose(),this.pages[n]=null;this.pages=null};WebFXTabPane.setCookie=function(n,t,i){var u="",r;i&&(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString());document.cookie=n+"="+t+u+"; path=/"};WebFXTabPane.getCookie=function(n){var i=new RegExp("(;|^)[^;]*("+n+")=([^;]*)(;|$)"),t=i.exec(document.cookie);return t!=null?t[3]:null};WebFXTabPane.removeCookie=function(n){setCookie(n,"",-1)};WebFXTabPage.prototype.show=function(){var n=this.tab,t=n.className+" selected";t=t.replace(/ +/g," ");n.className=t;this.element.style.display="block";showcount(inner(n))};WebFXTabPage.prototype.hide=function(){var n=this.tab,t=n.className;t=t.replace(/ selected/g,"");n.className=t;this.element.style.display="none";hidecount(inner(n))};WebFXTabPage.prototype.select=function(){this.tabPane.setSelectedIndex(this.index)};WebFXTabPage.prototype.dispose=function(){this.aElement.onclick=null;this.aElement=null;this.element.tabPage=null;this.tab.onclick=null;this.tab.onmouseover=null;this.tab.onmouseout=null;this.tab=null;this.tabPane=null;this.element=null};WebFXTabPage.tabOver=function(n){var i=n.tab,t=i.className+" hover";t=t.replace(/ +/g," ");i.className=t};WebFXTabPage.tabOut=function(n){var i=n.tab,t=i.className;t=t.replace(/ hover/g,"");i.className=t};typeof window.addEventListener!="undefined"?window.addEventListener("load",setupAllTabs,!1):typeof window.attachEvent!="undefined"?(window.attachEvent("onload",setupAllTabs),window.attachEvent("onunload",disposeAllTabs)):window.onload!=null?(oldOnload=window.onload,window.onload=function(n){oldOnload(n);setupAllTabs()}):window.onload=setupAllTabs